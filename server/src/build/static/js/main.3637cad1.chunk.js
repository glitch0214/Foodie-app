(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{11:function(e,t,r){"use strict";r.d(t,"z",(function(){return m})),r.d(t,"b",(function(){return h})),r.d(t,"E",(function(){return p})),r.d(t,"A",(function(){return f})),r.d(t,"n",(function(){return O})),r.d(t,"r",(function(){return g})),r.d(t,"d",(function(){return v})),r.d(t,"q",(function(){return y})),r.d(t,"f",(function(){return w})),r.d(t,"K",(function(){return k})),r.d(t,"y",(function(){return N})),r.d(t,"p",(function(){return C})),r.d(t,"v",(function(){return S})),r.d(t,"L",(function(){return E})),r.d(t,"j",(function(){return P})),r.d(t,"e",(function(){return A})),r.d(t,"c",(function(){return L})),r.d(t,"J",(function(){return T})),r.d(t,"x",(function(){return F})),r.d(t,"F",(function(){return M})),r.d(t,"i",(function(){return D})),r.d(t,"o",(function(){return _})),r.d(t,"g",(function(){return R})),r.d(t,"I",(function(){return I})),r.d(t,"k",(function(){return U})),r.d(t,"l",(function(){return G})),r.d(t,"s",(function(){return z})),r.d(t,"D",(function(){return B})),r.d(t,"u",(function(){return q})),r.d(t,"B",(function(){return H})),r.d(t,"h",(function(){return K})),r.d(t,"a",(function(){return Y})),r.d(t,"M",(function(){return V})),r.d(t,"G",(function(){return W})),r.d(t,"m",(function(){return J})),r.d(t,"C",(function(){return Q})),r.d(t,"t",(function(){return X})),r.d(t,"H",(function(){return Z})),r.d(t,"w",(function(){return $}));var n=r(4),a=r.n(n),c=r(10),s=r(68),i=r.n(s),o=r(33),l=r(80),d=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FOODIE_URL||"http://localhost:9000",u=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FOODIE_API_VERSION||"v1";i.a.defaults.baseURL="".concat(d,"/api/").concat(u),i.a.defaults.withCredentials=!0;var j=!1;function b(){j=!1}i.a.interceptors.response.use((function(e){return e}),(function(e){var t,r=e.response,n=r.data;return 401===r.status&&"INCORRECT_CREDENTIALS"!==((null===n||void 0===n||null===(t=n.error)||void 0===t?void 0:t.type)||"")&&e.config&&!e.config.__isRetryRequest&&(j||(j=!0,l.a.dispatch(Object(o.c)(b)))),Promise.reject(e)}));var x=function(e){return new Promise(function(){var t=Object(c.a)(a.a.mark((function t(r,n){var c,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i()(e);case 3:c=t.sent,r(c.data.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n((null===t.t0||void 0===t.t0||null===(s=t.t0.response)||void 0===s?void 0:s.data)||{});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}())},m=function(e,t){return x({method:"POST",url:"/authenticate",data:{username:e,password:t}})},h=function(){return x({method:"GET",url:"/check-session"})},p=function(e){var t=e.email,r=e.password,n=e.username;return x({method:"POST",url:"/register",data:{username:n,password:r,email:t}})},f=function(){return x({method:"DELETE",url:"/logout"})},O=function(e){return x({method:"GET",url:"/feed",params:e})},g=function(e){return x({method:"GET",url:"/post/".concat(e)})},v=function(e){return x({method:"POST",url:"/post",data:e})},y=function(e,t){return x({method:"GET",url:"/".concat(e,"/posts"),params:t})},w=function(e){return x({method:"DELETE",url:"/post/".concat(e)})},k=function(e,t){return x({method:"PATCH",url:"/post/".concat(e),data:t})},N=function(e){return x({method:"POST",url:"/like/post/".concat(e)})},C=function(e,t){return x({method:"GET",url:"/post/likes/".concat(e),params:t})},S=function(e){return x({method:"GET",url:"/".concat(e)})},E=function(e,t){return x({method:"PATCH",url:"/".concat(e,"/edit"),data:t})},P=function(e,t){var r=t.offset,n=void 0===r?0:r,a=t.limit,c=t.skip,s=t.sort,i=void 0===s?"desc":s;return x({method:"GET",url:"/comment/".concat(e),params:{offset:n,limit:a,skip:c,sort:i}})},A=function(e){return x({method:"DELETE",url:"/comment/".concat(e)})},L=function(e,t){return x({method:"POST",url:"/comment/".concat(e),data:{body:t}})},T=function(e,t){return x({method:"PATCH",url:"/comment/".concat(e),data:{body:t}})},F=function(e){return x({method:"POST",url:"/like/comment/".concat(e)})},M=function(e,t,r){return x({method:"POST",url:"/reply",data:{body:e,comment_id:t,post_id:r}})},D=function(e){return x({method:"GET",url:"/reply",params:{offset:e.offset,comment_id:e.comment_id,post_id:e.post_id}})},_=function(e){return x({method:"GET",url:"/notifications",params:{offset:e.offset}})},R=function(e){return x({method:"POST",url:"/follow/".concat(e)})},I=function(e){return x({method:"POST",url:"/unfollow/".concat(e)})},U=function(e,t){var r=t.offset,n=void 0===r?0:r;return x({method:"GET",url:"/".concat(e,"/followers"),params:{offset:n}})},G=function(e,t){return x({method:"GET",url:"/".concat(e,"/following"),params:t})},z=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x({method:"GET",url:"/people/suggested",params:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(e){return x({method:"PATCH",url:"/read/notification/".concat(e)})},q=function(){return x({method:"GET",url:"/notifications/unread"})},H=function(){return x({method:"PATCH",url:"/notifications/mark"})},K=function(e){return x({method:"GET",url:"/bookmarks",params:e})},Y=function(e){return x({method:"POST",url:"/bookmark/post/".concat(e)})},V=function(){var e=Object(c.a)(a.a.mark((function e(t,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x({method:"POST",url:"/upload/".concat(r),data:t}));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),W=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x({method:"GET",url:"/search",params:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(e){return x({method:"GET",url:"/messages",params:e})},Q=function(e){return x({method:"PATCH",url:"/message/read/".concat(e)})},X=function(){return x({method:"GET",url:"/messages/unread"})},Z=function(e,t){return x({method:"POST",url:"/message/".concat(t),data:{text:e}})},$=function(e,t){return x({method:"GET",url:"/messages/".concat(e),params:t})}},118:function(e,t,r){"use strict";r.r(t);var n=r(4),a=r.n(n),c=r(10),s=r(2),i=r(0),o=r(69),l=r(139),d=r(1),u=r(25),j=r.n(u),b=r(9),x=r(20),m=r(29),h=r(11);j.a.setAppElement("#root");t.default=function(e){var t,r=Object(d.useState)(!1),n=Object(s.a)(r,2),u=n[0],p=n[1],f=Object(d.useState)(null),O=Object(s.a)(f,2),g=O[0],v=O[1],y=Object(b.c)(),w=Object(b.d)((function(e){return e.helper.targetComment})),k=function(){var t=Object(c.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,p(!0),t.t0=w,!t.t0){t.next=6;break}return t.next=6,Object(h.e)(w.id);case 6:N(),w&&e.deleteSuccessCallback(w),x.c.dark("Comment successfully deleted.",{progressStyle:{backgroundColor:"#4caf50"},autoClose:2e3}),t.next=15;break;case 11:t.prev=11,t.t1=t.catch(0),p(!1),v(t.t1);case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}(),N=function(){e.isOpen&&(e.closeModal(),y(Object(m.a)(null)))};return Object(i.jsx)(j.a,{isOpen:e.isOpen,onAfterOpen:e.onAfterOpen,onRequestClose:N,contentLabel:"Delete Comment",className:"modal",shouldCloseOnOverlayClick:!u,overlayClassName:"modal-overlay",children:Object(i.jsxs)("div",{className:"relative",children:[Object(i.jsx)("div",{className:"absolute right-2 top-2 p-1 rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-200 dark:hover:bg-indigo-1100",onClick:N,children:Object(i.jsx)(o.a,{className:"p-2  outline-none text-gray-500 dark:text-white"})}),g&&Object(i.jsx)("span",{className:"block p-4 bg-red-100 text-red-500 w-full",children:(null===g||void 0===g||null===(t=g.error)||void 0===t?void 0:t.message)||"Unable process request. Please try again."}),Object(i.jsxs)("div",{className:"p-4 laptop:px-8",children:[Object(i.jsxs)("h2",{className:"dark:text-white",children:[Object(i.jsx)(l.a,{className:"text-red-500 mr-2 pt-2"}),"Delete Comment"]}),Object(i.jsx)("p",{className:"text-gray-600 my-4 dark:text-white",children:"Are you sure you want to delete this comment?"}),Object(i.jsxs)("div",{className:"flex justify-between",children:[Object(i.jsx)("button",{className:"button--muted !rounded-full dark:bg-indigo-1100 dark:text-white dark:hover:bg-indigo-1100",onClick:N,children:"Cancel"}),Object(i.jsx)("button",{className:"button--danger",disabled:u,onClick:k,children:"Delete"})]})]})]})})}},119:function(e,t,r){"use strict";r.r(t);var n=r(4),a=r.n(n),c=r(10),s=r(2),i=r(0),o=r(69),l=r(139),d=r(1),u=r(25),j=r.n(u),b=r(9),x=r(20),m=r(12),h=r(29),p=r(40),f=r(11),O=r(34);j.a.setAppElement("#root");t.default=function(e){var t,r=Object(d.useState)(!1),n=Object(s.a)(r,2),u=n[0],g=n[1],v=Object(d.useState)(null),y=Object(s.a)(v,2),w=y[0],k=y[1],N=Object(m.a)(),C=Object(b.c)(),S=Object(b.d)((function(e){return{targetPost:e.helper.targetPost,isOpen:e.modal.isOpenDeletePost}})),E=S.targetPost,P=S.isOpen,A=function(){var t=Object(c.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,g(!0),t.next=4,Object(f.f)(null===E||void 0===E?void 0:E.id);case 4:N&&g(!1),L(),e.deleteSuccessCallback(null===E||void 0===E?void 0:E.id),x.c.dark("Post successfully deleted.",{progressStyle:{backgroundColor:"#4caf50"}}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),N&&(g(!1),k(t.t0));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}(),L=function(){P&&!u&&(C(Object(h.b)(null)),C(Object(p.a)(O.a.DELETE_POST)))};return Object(i.jsx)(j.a,{isOpen:P,onAfterOpen:e.onAfterOpen,onRequestClose:L,contentLabel:"Example Modal",className:"modal",shouldCloseOnOverlayClick:!u,overlayClassName:"modal-overlay",children:Object(i.jsxs)("div",{className:"relative",children:[Object(i.jsx)("div",{className:"absolute right-2 top-2 p-1 rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-200 dark:hover:bg-indigo-1100",onClick:L,children:Object(i.jsx)(o.a,{className:"p-2  outline-none text-gray-500 dark:text-white"})}),w&&Object(i.jsx)("span",{className:"p-4 bg-red-100 text-red-500 block",children:(null===w||void 0===w||null===(t=w.error)||void 0===t?void 0:t.message)||"Unable to process your request."}),Object(i.jsxs)("div",{className:"p-4 laptop:px-8",children:[Object(i.jsxs)("h2",{className:"dark:text-white",children:[Object(i.jsx)(l.a,{className:"text-red-500 mr-2 pt-2"}),"Delete Post"]}),Object(i.jsx)("p",{className:"text-gray-600 my-4 dark:text-gray-400",children:"Are you sure you want to delete this post?"}),Object(i.jsxs)("div",{className:"flex justify-between",children:[Object(i.jsx)("button",{className:"button--muted !rounded-full dark:bg-indigo-1100 dark:text-white dark:hover:bg-indigo-1100",onClick:L,disabled:u,children:"Cancel"}),Object(i.jsx)("button",{className:"button--danger",disabled:u,onClick:A,children:"Delete"})]})]})]})})}},12:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return s.a})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return d}));var n=r(2),a=r(1),c=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(a.useState)(e),r=Object(n.a)(t,2),c=r[0],s=r[1];return Object(a.useEffect)((function(){return s(!0),function(){s(!1)}}),[]),c},s=r(57),i=r(17),o=r(20),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"multiple",t=arguments.length>1?arguments[1]:void 0,r=Object(a.useState)(t),c=Object(n.a)(r,2),s=c[0],l=c[1],d=Object(a.useState)(!1),u=Object(n.a)(d,2),j=u[0],b=u[1],x=function(e){if(Array.isArray(s)){var t=s.filter((function(t){return t.id!==e}));l(t)}},m=function(){l(t)},h=function(t,r){if(t.target.files){if(t.target.files.length+s.length>5)return o.c.error("Maximum of 5 photos per post allowed.",{hideProgressBar:!0});var n=t.target.value,a=t.target.files[0];if(a){var c=a.size/1024/1024;if(b(!0),/(\.jpg|\.jpeg|\.png)$/i.exec(n))if(c>2)o.c.error("File size exceeded 2mb",{hideProgressBar:!0}),b(!1);else if("single"===e){var d=t.target.files[0],u=URL.createObjectURL(d);l({file:d,url:u,id:d.name}),r&&r(s)}else Array.from(t.target.files).forEach((function(e){var t=URL.createObjectURL(e);l((function(r){return[].concat(Object(i.a)(r),[{file:e,url:t,id:e.name}])}))})),r&&r(s),b(!1);else o.c.error("File type must be JPEG or PNG",{hideProgressBar:!0}),b(!1)}}};return{imageFile:s,setImageFile:l,isFileLoading:j,onFileChange:h,removeImage:x,clearFiles:m}},d=function(){var e=Object(a.useState)(!1),t=Object(n.a)(e,2),r=t[0],c=t[1];return{isOpen:r,openModal:function(){c(!0)},closeModal:function(){c(!1)}}}},120:function(e,t,r){"use strict";r.r(t);var n=r(4),a=r.n(n),c=r(10),s=r(2),i=r(0),o=r(69),l=r(220),d=r(1),u=r(25),j=r.n(u),b=r(9),x=r(20),m=r(12),h=r(29),p=r(40),f=r(11),O=r(34);j.a.setAppElement("#root");t.default=function(e){var t,r=Object(b.d)((function(e){return{isOpen:e.modal.isOpenEditPost,targetPost:e.helper.targetPost}})),n=r.isOpen,u=r.targetPost,g=Object(d.useState)((null===u||void 0===u?void 0:u.description)||""),v=Object(s.a)(g,2),y=v[0],w=v[1],k=Object(d.useState)((null===u||void 0===u?void 0:u.privacy)||"public"),N=Object(s.a)(k,2),C=N[0],S=N[1],E=Object(d.useState)(!1),P=Object(s.a)(E,2),A=P[0],L=P[1],T=Object(d.useState)(null),F=Object(s.a)(T,2),M=F[0],D=F[1],_=Object(m.a)(),R=Object(b.c)();Object(d.useEffect)((function(){S(null===u||void 0===u?void 0:u.privacy),w(null===u||void 0===u?void 0:u.description)}),[u]);var I=function(){var t=Object(c.a)(a.a.mark((function t(){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,L(!0),t.next=4,Object(f.K)(null===u||void 0===u?void 0:u.id,{description:y.trim(),privacy:C});case 4:r=t.sent,_&&L(!1),e.updateSuccessCallback(r),U(),x.c.dark("Post updated successfully.",{progressStyle:{backgroundColor:"#4caf50"}}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),_&&(L(!1),D(t.t0));case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}(),U=function(){n&&!A&&(R(Object(h.b)(null)),R(Object(p.a)(O.a.EDIT_POST)))};return Object(i.jsx)(j.a,{isOpen:n,onAfterOpen:e.onAfterOpen,onRequestClose:U,contentLabel:"Example Modal",className:"modal",shouldCloseOnOverlayClick:!1,overlayClassName:"modal-overlay",children:Object(i.jsxs)("div",{className:"relative",children:[Object(i.jsx)("div",{className:"absolute right-2 top-2 p-1 rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-200 dark:hover:bg-indigo-1100",onClick:U,children:Object(i.jsx)(o.a,{className:"p-2  outline-none text-gray-500 dark:text-white"})}),M&&Object(i.jsx)("span",{className:"p-4 bg-red-100 text-red-500 block",children:(null===M||void 0===M||null===(t=M.error)||void 0===t?void 0:t.message)||"Unable process request. Please try again."}),Object(i.jsxs)("div",{className:"p-4 laptop:px-8 w-full laptop:w-40rem",children:[Object(i.jsxs)("h2",{className:"dark:text-white",children:[Object(i.jsx)(l.a,{className:"mr-2 pt-2"}),"Edit Post"]}),Object(i.jsxs)("select",{className:"!py-1 !text-sm w-32 dark:bg-indigo-1100 dark:text-white dark:border-gray-800",id:"privacy",name:"privacy",onChange:function(e){var t=e.target.value;S(t)},value:C,children:[Object(i.jsx)("option",{value:"public",children:"Public"}),Object(i.jsx)("option",{value:"follower",children:"Follower"}),Object(i.jsx)("option",{value:"private",children:"Only Me"})]}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("label",{htmlFor:"update-post",children:"Description"}),Object(i.jsx)("textarea",{className:"dark:bg-indigo-1100 dark:text-white dark:border-gray-800",name:"update-post",id:"update-post",cols:30,rows:3,readOnly:A,onChange:function(e){var t=e.target.value;w(t)},value:y}),Object(i.jsxs)("div",{className:"flex justify-between mt-4",children:[Object(i.jsx)("button",{className:"button--muted !rounded-full dark:bg-indigo-1100 dark:text-white dark:hover:bg-indigo-1100",onClick:U,children:"Cancel"}),Object(i.jsx)("button",{onClick:I,disabled:A,children:"Update"})]})]})]})})}},121:function(e,t,r){"use strict";r.r(t);var n=r(4),a=r.n(n),c=r(10),s=r(2),i=r(0),o=r(69),l=r(1),d=r(25),u=r.n(d),j=r(9),b=r(7),x=r(12),m=r(29),h=r(40),p=r(11),f=r(34),O=r(58);u.a.setAppElement("#root");t.default=function(e){var t=Object(l.useState)([]),r=Object(s.a)(t,2),n=r[0],d=r[1],g=Object(l.useState)(!1),v=Object(s.a)(g,2),y=v[0],w=v[1],k=Object(l.useState)(0),N=Object(s.a)(k,2),C=N[0],S=N[1],E=Object(l.useState)(null),P=Object(s.a)(E,2),A=P[0],L=P[1],T=Object(x.a)(!0),F=Object(j.c)(),M=Object(j.d)((function(e){return{isOpen:e.modal.isOpenPostLikes,targetPost:e.helper.targetPost}})),D=M.isOpen,_=M.targetPost;Object(l.useEffect)((function(){D&&_&&R()}),[D]);var R=function(){var e=Object(c.a)(a.a.mark((function e(){var t,r,n=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:0,e.prev=1,w(!0),e.next=5,Object(p.p)(null===_||void 0===_?void 0:_.id,{offset:t});case 5:r=e.sent,T&&(S(C+1),d(r),w(!1)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),T&&(w(!1),L(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),I=function(){D&&(F(Object(h.a)(f.a.POST_LIKES)),F(Object(m.b)(null)))};return D?Object(i.jsx)(u.a,{isOpen:D,onAfterOpen:e.onAfterOpen,onRequestClose:I,contentLabel:"Example Modal",className:"modal",shouldCloseOnOverlayClick:!0,overlayClassName:"modal-overlay",children:Object(i.jsxs)("div",{className:"relative transition-all min-w-15rem",children:[Object(i.jsx)("div",{className:"absolute right-2 top-2 p-1 rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-200 dark:hover:bg-indigo-1100",onClick:I,children:Object(i.jsx)(o.a,{className:"p-2  outline-none text-gray-500 dark:text-white"})}),A&&0===n.length&&Object(i.jsx)("span",{className:"p-4 bg-red-100 text-red-500 block",children:A.error.message}),Object(i.jsx)("h3",{className:"py-4 px-8 dark:text-white",children:"Likes"}),y&&0===n.length&&Object(i.jsx)("div",{className:"flex min-h-10rem min-w-15rem items-center justify-center py-8",children:Object(i.jsx)(b.e,{})}),0!==n.length&&Object(i.jsxs)("div",{className:"p-4 px-4 w-full laptop:w-30rem max-h-70vh overflow-y-scroll scrollbar",children:[Object(i.jsx)("div",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:n.map((function(e){return Object(i.jsx)("div",{children:Object(i.jsx)(O.a,{profile:e})},e.id)}))}),!y&&n.length>=10&&!A&&Object(i.jsx)("div",{className:"flex items-center justify-center pt-2 border-t border-gray-100 dark:border-gray-800",children:Object(i.jsx)("span",{className:"text-indigo-700 dark:text-indigo-400 text-sm font-medium cursor-pointer",onClick:function(){return R(C)},children:"Load more"})}),y&&!A&&Object(i.jsx)("div",{className:"flex w-full items-center justify-center py-8",children:Object(i.jsx)(b.e,{})}),A&&Object(i.jsx)("div",{className:"flex items-center justify-center py-8",children:Object(i.jsx)("span",{className:"text-gray-400 text-sm",children:"No more likes."})})]})]})}):null}},122:function(e,t,r){"use strict";r.r(t);var n=r(4),a=r.n(n),c=r(17),s=r(10),i=r(2),o=r(0),l=r(24),d=r.n(l),u=r(39),j=r.n(u),b=r(1),x=r(9),m=r(7),h=r(12),p=r(29),f=r(11),O=r(3),g=r(60),v=Object(b.forwardRef)((function(e,t){var r=e.isUpdateMode,n=e.isSubmitting,a=e.isLoading,c=Object(g.a)(e,["isUpdateMode","isSubmitting","isLoading"]),s=Object(x.d)((function(e){return e.auth.profilePicture}));return Object(b.useEffect)((function(){t&&t.current.focus()}),[t]),Object(o.jsxs)("div",{className:"flex items-center w-full",children:[!r&&Object(o.jsx)(m.a,{url:null===s||void 0===s?void 0:s.url,className:"mr-2 flex-shrink-0",size:"sm"}),Object(o.jsxs)("div",{className:"flex-grow",children:[Object(o.jsx)("input",Object(O.a)(Object(O.a)({},c),{},{className:"".concat(n&&a&&"opacity-50"," dark:bg-indigo-1100 dark:!border-gray-800 dark:text-white"),type:"text",readOnly:a||n,ref:t})),r&&Object(o.jsx)("span",{className:"text-xs text-gray-500 ml-2",children:"Press Esc to Cancel"})]})]})})),y=r(224),w=r(223),k=r(222),N=r(234),C=r(235),S=r(13),E=r(76);d.a.extend(j.a);var P=function(e){var t,r,n=Object(b.useState)(0),l=Object(i.a)(n,2),u=l[0],j=l[1],x=Object(b.useState)(e.comment),p=Object(i.a)(x,2),g=p[0],w=p[1],k=Object(b.useState)([]),P=Object(i.a)(k,2),A=P[0],T=P[1],F=Object(b.useState)(!1),M=Object(i.a)(F,2),D=M[0],_=M[1],R=Object(b.useState)(!0),I=Object(i.a)(R,2),U=I[0],G=I[1],z=Object(b.useState)(g.body||""),B=Object(i.a)(z,2),q=B[0],H=B[1],K=Object(b.useState)(""),Y=Object(i.a)(K,2),V=Y[0],W=Y[1],J=Object(b.useState)(!1),Q=Object(i.a)(J,2),X=Q[0],Z=Q[1],$=Object(b.useState)(!1),ee=Object(i.a)($,2),te=ee[0],re=ee[1],ne=Object(b.useState)(!1),ae=Object(i.a)(ne,2),ce=ae[0],se=ae[1],ie=Object(b.useState)(!1),oe=Object(i.a)(ie,2),le=oe[0],de=oe[1],ue=Object(b.useState)(null),je=Object(i.a)(ue,2),be=je[0],xe=je[1],me=Object(h.a)(!0),he=Object(b.useRef)(null),pe=Object(b.useRef)(null);Object(b.useEffect)((function(){me&&w(e.comment)}),[e.comment]);var fe=function(){var e=Object(s.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Z(!0),e.next=4,Object(f.i)({offset:u,comment_id:g.id,post_id:g.post_id});case 4:t=e.sent,Z(!1),xe(null),T([].concat(Object(c.a)(A),Object(c.a)(t))),j(u+1),G(!0),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),Z(!1),xe(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(s.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key){e.next=21;break}if(e.prev=1,re(!0),!le||!q){e.next=9;break}return e.next=6,Object(f.J)(g.id,q);case 6:r=e.sent,e.next=12;break;case 9:return e.next=11,Object(f.F)(V,g.id,g.post_id);case 11:r=e.sent;case 12:me&&(le?(w(r),H(""),de(!1)):(T([].concat(Object(c.a)(A),[r])),W(""),_(!1)),xe(null),G(!0),re(!1),0===A.length&&fe()),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0),me&&(re(!1),xe(e.t0));case 19:e.next=22;break;case 21:"Escape"===t.key&&(de(!1),_(!1),pe.current&&pe.current.blur(),he.current&&he.current.blur());case 22:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(s.a)(a.a.mark((function e(){var t,r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ce){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,se(!0),e.next=6,Object(f.x)(g.id);case 6:t=e.sent,r=t.state,n=t.likesCount,me&&(se(!1),w(Object(O.a)(Object(O.a)({},g),{},{isLiked:r,likesCount:n}))),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),me&&se(!1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}();return Object(o.jsxs)("div",{className:"flex py-2 items-start w-full",children:[Object(o.jsx)(S.a,{to:"/user/".concat(g.author.username),className:"mr-2",children:Object(o.jsx)(m.a,{url:null===(t=g.author.profilePicture)||void 0===t?void 0:t.url,size:"sm"})}),Object(o.jsxs)("div",{className:"inline-flex items-start flex-col w-full",children:[le?Object(o.jsx)(v,{value:q,placeholder:"Write a reply...",onChange:function(e){H(e.target.value)},isSubmitting:te,ref:pe,isUpdateMode:le,onKeyDown:Oe}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"flex items-start w-full laptop:w-auto",children:[Object(o.jsxs)("div",{className:"bg-gray-100 dark:bg-indigo-950 px-2 py-1 rounded-md flex-grow laptop:flex-grow-0",children:[Object(o.jsx)(S.a,{className:"inline-block",to:"/user/".concat(g.author.username),children:Object(o.jsx)("h5",{className:"dark:text-indigo-400",children:g.author.username})}),Object(o.jsx)("p",{className:"text-gray-800 text-sm min-w-full break-all dark:text-gray-200 inline-block",children:g.body})]}),(g.isOwnComment||g.isPostOwner)&&Object(o.jsx)(E.a,{comment:g,onClickEdit:function(){de(!0),H(g.body),_(!1)},openDeleteModal:e.openDeleteModal})]}),Object(o.jsxs)("div",{className:"mx-2",children:[Object(o.jsxs)("div",{className:"mt-1 flex items-center space-x-2",children:[g.likesCount>0&&Object(o.jsx)("span",{className:"text-sm text-gray-500",children:g.likesCount}),Object(o.jsx)("span",{className:"text-gray-400 hover:cursor-pointer hover:text-gray-800 dark:hover:text-gray-200 text-xs ".concat(g.isLiked&&"font-bold text-indigo-500 dark:text-indigo-300"," ").concat(ce&&"opacity-50 hover:cursor-default"),onClick:ge,children:g.isLiked?"Unlike":"Like"}),g.depth<3&&Object(o.jsx)("span",{className:"text-gray-400 hover:cursor-pointer hover:text-gray-800 dark:hover:text-gray-200 text-xs",onClick:function(){_(!D),de(!1)},children:"Reply"}),Object(o.jsx)("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:d()(g.createdAt).fromNow()}),g.isEdited&&Object(o.jsx)("span",{className:"text-xs text-gray-400 dark:text-gray-500 ml-2",children:"Edited"})]}),(g.replyCount>0||A.length>0)&&Object(o.jsxs)("div",{className:"flex space-x-2",children:[!be&&Object(o.jsxs)("span",{className:"text-xs text-indigo-500 hover:text-indigo-400 dark:text-indigo-400 dark:hover:text-indigo-200 mt-2 hover:cursor-pointer",onClick:function(){X||(me&&G(!U),0===A.length&&fe())},children:[U&&0!==A.length?"Hide Replies":"View Replies","\xa0",X?Object(o.jsx)(y.a,{className:"text-1xs"}):U&&0!==A.length?Object(o.jsx)(N.a,{className:"text-1xs"}):Object(o.jsx)(C.a,{className:"text-1xs"})]}),be&&404!==(null===be||void 0===be?void 0:be.status_code)&&Object(o.jsx)("span",{className:"text-gray-400 text-xs",children:null===be||void 0===be||null===(r=be.error)||void 0===r?void 0:r.message})]})]})]}),D&&!le&&Object(o.jsx)("div",{className:"py-4 w-full",children:Object(o.jsx)(v,{value:V,placeholder:"Write a reply...",onChange:function(e){W(e.target.value)},isSubmitting:te,ref:he,isUpdateMode:le,onKeyDown:Oe})}),A.length>0&&U&&Object(o.jsx)(L,{comments:A,updateCommentCallback:function(e){me&&T((function(t){return t.filter((function(t){return t.id!==e.id}))}))}})]})]},g.id)},A=Object(b.lazy)((function(){return Promise.resolve().then(r.bind(null,118))})),L=function(e){var t=e.comments,r=e.updateCommentCallback,n=Object(h.a)(),a=Object(x.c)(),c=Object(b.useState)(t),s=Object(i.a)(c,2),l=s[0],d=s[1],u=Object(h.d)(),j=u.isOpen,m=u.closeModal,f=u.openModal;Object(b.useEffect)((function(){n&&d(t)}),[t]);return Object(o.jsxs)(w.a,{component:null,children:[l.map((function(e){return Object(o.jsx)(k.a,{timeout:500,classNames:"fade",children:Object(o.jsx)(P,{openDeleteModal:f,comment:e})},e.id)})),Object(o.jsx)(b.Suspense,{fallback:Object(o.jsx)(y.a,{className:"text-gray-800 dark:text-white"}),children:j&&Object(o.jsx)(A,{isOpen:j,closeModal:m,deleteSuccessCallback:function(e){n&&(r&&r(e),a(Object(p.a)(null)),d((function(t){return t.filter((function(t){return t.id!==e.id}))})))}})})]})};d.a.extend(j.a);t.default=function(e){var t=e.postID,r=e.isCommentVisible,n=e.commentInputRef,l=Object(b.useState)([]),d=Object(i.a)(l,2),u=d[0],j=d[1],O=Object(b.useState)(0),g=Object(i.a)(O,2),y=g[0],w=g[1],k=Object(b.useState)(!1),N=Object(i.a)(k,2),C=N[0],S=N[1],E=Object(b.useState)(!1),P=Object(i.a)(E,2),A=P[0],T=P[1],F=Object(b.useState)(!1),M=Object(i.a)(F,2),D=M[0],_=M[1],R=Object(b.useState)(""),I=Object(i.a)(R,2),U=I[0],G=I[1],z=Object(b.useState)(""),B=Object(i.a)(z,2),q=B[0],H=B[1],K=Object(h.a)(!0),Y=Object(x.c)();Object(b.useEffect)((function(){V({offset:0,limit:1,sort:"desc"})}),[]),Object(b.useEffect)((function(){n.current&&n.current.focus()}),[r]);var V=function(){var e=Object(s.a)(a.a.mark((function e(r){var n,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S(!0),e.next=4,Object(f.j)(t,r);case 4:n=e.sent,K&&(w(y+1),j([].concat(Object(c.a)(n.reverse()),Object(c.a)(u))),S(!1)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),K&&(S(!1),G((null===(s=e.t0.error)||void 0===s?void 0:s.message)||"Something went wrong."));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(s.a)(a.a.mark((function e(r){var s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==r.key||!q){e.next=14;break}return e.prev=1,_(!0),e.next=5,Object(f.c)(t,q);case 5:s=e.sent,K&&(j([].concat(Object(c.a)(u),[s])),H(""),T(!1),_(!1)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),K&&(_(!1),G(e.t0.error.message));case 12:e.next=15;break;case 14:"Escape"===r.key&&(A&&J(),n.current&&n.current.blur());case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){H(""),Y(Object(p.a)(null)),T(!1)};return r?Object(o.jsx)(m.c,{children:Object(o.jsxs)("div",{className:"rounded-b-md border-t border-gray-200 dark:border-gray-800",children:[!U&&Object(o.jsx)("span",{className:"text-indigo-700 dark:text-indigo-400 text-sm font-bold cursor-pointer inline-block p-2",onClick:function(){return V({offset:1,limit:10,skip:1===u.length?1:void 0,sort:"asc"})},children:C?Object(o.jsx)("div",{className:"ml-8 py-2",children:Object(o.jsx)(m.e,{size:"sm"})}):"Load more comments"}),Object(o.jsx)("div",{className:"py-4 laptop:px-2 space-y-2 divide-y divide-gray-200 dark:divide-gray-800",children:Object(o.jsx)(L,{comments:u,updateCommentCallback:function(e){K&&j((function(t){return t.filter((function(t){return t.id!==e.id}))}))}})}),r&&Object(o.jsx)(v,{ref:n,onChange:function(e){H(e.target.value)},placeholder:"Write a comment...",isSubmitting:D,isLoading:C,isUpdateMode:A,onKeyDown:W,value:q})]})}):null}},18:function(e,t,r){"use strict";r.d(t,"a",(function(){return j})),r.d(t,"b",(function(){return P})),r.d(t,"c",(function(){return T})),r.d(t,"g",(function(){return D})),r.d(t,"i",(function(){return R})),r.d(t,"k",(function(){return K})),r.d(t,"d",(function(){return W})),r.d(t,"e",(function(){return X})),r.d(t,"f",(function(){return ne})),r.d(t,"h",(function(){return ce})),r.d(t,"j",(function(){return se})),r.d(t,"n",(function(){return ue})),r.d(t,"l",(function(){return xe})),r.d(t,"o",(function(){return me.b})),r.d(t,"m",(function(){return Ne})),r.d(t,"p",(function(){return Ce})),r.d(t,"q",(function(){return Se.a}));var n=r(4),a=r.n(n),c=r(10),s=r(2),i=r(0),o=r(1),l=r(20),d=r(12),u=r(11),j=function(e){var t=Object(o.useState)(e.initBookmarkState||!1),r=Object(s.a)(t,2),n=r[0],j=r[1],b=Object(o.useState)(!1),x=Object(s.a)(b,2),m=x[0],h=x[1],p=Object(d.a)(!0);Object(o.useEffect)((function(){j(e.initBookmarkState)}),[e.initBookmarkState]);var f=function(){var t=Object(c.a)(a.a.mark((function t(){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!m){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,h(!0),t.next=6,Object(u.a)(e.postID);case 6:r=t.sent,n=r.state,p&&(j(n),h(!1)),n?l.c.dark("Post successfully bookmarked.",{hideProgressBar:!0,autoClose:2e3}):l.c.info("Post removed from bookmarks.",{hideProgressBar:!0,autoClose:2e3}),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),p&&h(!1),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(){return t.apply(this,arguments)}}();return Object(i.jsx)("div",{children:e.children({dispatchBookmark:f,isBookmarked:n,isLoading:m})})},b=r(228),x=r(69),m=r(229),h=r(230),p=r(9),f=r(13),O=r(223),g=r(222),v=r(7),y=r(24),w=r.n(y),k=r(39),N=r.n(k);w.a.extend(N.a);var C=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=w()(),n=w()(e),a=864e5,c=432e5,s=t?" | ".concat(w()(e).format("hh:mm a")):"";return r.diff(n)<c?w()(e).fromNow():r.diff(n)<a?"".concat(w()(e).fromNow()," ").concat(s):r.diff(e,"year")>=1?"".concat(w()(e).format("MMM. DD, YYYY")," ").concat(s):"".concat(w()(e).format("MMM. DD")," ").concat(s)},S=r(35),E=r(28),P=function(e){var t,r,n=e.user,l=e.target,j=Object(o.useState)(""),y=Object(s.a)(j,2),w=y[0],k=y[1],N=Object(p.c)(),P=Object(o.useState)(null),A=Object(s.a)(P,2),L=A[0],T=A[1],F=Object(o.useState)(!1),M=Object(s.a)(F,2),D=M[0],_=M[1],R=Object(o.useState)(!1),I=Object(s.a)(R,2),U=I[0],G=I[1],z=Object(d.a)(!0),B=Object(o.useState)(!1),q=Object(s.a)(B,2),H=q[0],K=q[1],Y=Object(o.useRef)(null),V=Object(o.useRef)(null);Object(o.useEffect)((function(){0===l.chats.length&&W(),E.a.on("newMessage",(function(e){N(Object(S.f)(l.username,e)),V.current&&V.current.scrollIntoView()})),E.a.on("typing",(function(e){K(e)})),V.current&&V.current.scrollIntoView()}),[]);var W=function(){var e=Object(c.a)(a.a.mark((function e(){var t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_(!0),e.next=4,Object(u.w)(l.id,{offset:l.offset});case 4:t=e.sent,N(Object(S.c)(l.username,t.reverse())),z&&(k(""),_(!1),T(null)),(!l.offset||l.offset<1)&&(null===(r=V.current)||void 0===r||r.scrollIntoView()),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),z&&(_(!1),T(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w){e.next=11;break}return e.prev=1,G(!0),e.next=5,Object(u.H)(w,l.id);case 5:z&&(G(!1),k(""),T(null)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),z&&(G(!1),T(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(i.jsxs)("div",{className:"bg-white dark:bg-indigo-1100 p-3 relative w-full h-full laptop:w-20rem laptop:shadow-lg laptop:rounded-t-xl laptop:bottom-0 laptop:right-24 laptop:border laptop:border-gray-400 dark:border-gray-800",children:[Object(i.jsxs)("div",{className:"flex justify-between pb-3 border-b border-gray-200 dark:border-gray-800",children:[Object(i.jsx)(f.a,{className:"dark:text-indigo-400",to:"/user/".concat(l.username),children:Object(i.jsxs)("div",{className:"flex items-center",children:[Object(i.jsx)(v.a,{url:null===(t=l.profilePicture)||void 0===t?void 0:t.url,className:"mr-2"}),Object(i.jsx)("h5",{children:l.username})]})}),Object(i.jsxs)("div",{className:"hidden laptop:flex laptop:items-center",children:[Object(i.jsx)("div",{className:"post-option-toggle p-2 rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-200 dark:text-white dark:hover:bg-indigo-1000",title:"Minimize Chat",onClick:function(){N(Object(S.e)(l.username))},children:Object(i.jsx)(b.a,{className:"flex items-center justify-center"})}),Object(i.jsx)("div",{className:"post-option-toggle p-2 rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-200 dark:text-white dark:hover:bg-indigo-1000",title:"Close Chat",onClick:function(){N(Object(S.b)(l.username))},children:Object(i.jsx)(x.a,{className:"flex items-center justify-center"})})]})]}),Object(i.jsxs)("div",{className:"min-h-80% laptop:min-h-24rem max-h-85% laptop:max-h-80 bg-gray-100 dark:bg-indigo-1000 overflow-y-scroll pb-4 scrollbar relative",children:[D&&0===l.chats.length&&!L&&Object(i.jsx)("div",{className:"flex justify-center min-h-18rem py-2",children:Object(i.jsx)(v.e,{})}),!D&&0===l.chats.length&&L&&Object(i.jsx)("div",{className:"flex flex-col items-center min-h-18rem justify-center py-2",children:404===L.status_code?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(m.a,{className:"text-gray-300 text-6xl"}),Object(i.jsx)("span",{className:"text-gray-400 mb-2",children:"No messages."}),Object(i.jsxs)("span",{className:"text-gray-400 text-sm",children:["Send a message to ",l.username]})]}):Object(i.jsx)("span",{className:"text-gray-400 mb-4",children:(null===L||void 0===L||null===(r=L.error)||void 0===r?void 0:r.message)||"Unable to process your request."})}),!L&&l.chats.length>=10&&Object(i.jsx)(i.Fragment,{children:D?Object(i.jsx)("div",{className:"flex justify-center py-2 mb-4",children:Object(i.jsx)(v.e,{})}):Object(i.jsx)("div",{className:"flex justify-center items-center py-2 mb-4 bg-indigo-100 cursor-pointer",onClick:W,children:Object(i.jsx)("span",{className:"text-indigo-700 text-xs",children:"Older messages"})})}),0!==l.chats.length&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(O.a,{component:null,children:l.chats.map((function(e,t){var r,a;return Object(i.jsx)(g.a,{timeout:500,classNames:"fade",children:Object(i.jsxs)("div",{className:"flex flex-col",children:[Object(i.jsx)("div",{className:"flex p-2  ".concat(e.isOwnMessage?"justify-end":"justify-start"),children:Object(i.jsxs)("div",{className:"flex",children:[Object(i.jsx)(v.a,{url:e.isOwnMessage?null===(r=n.profilePicture)||void 0===r?void 0:r.url:null===(a=l.profilePicture)||void 0===a?void 0:a.url,size:"xs",className:"self-end flex-shrink-0 !bg-cover !bg-no-repeat rounded-full ".concat(e.isOwnMessage?"ml-1 order-2":"mr-1 order-1")}),Object(i.jsx)("span",{className:"py-2 px-3 break-all text-sm rounded-xl ".concat(e.isOwnMessage?"bg-indigo-700 text-white order-1":"bg-gray-300 order-2"),children:e.text}),Object(i.jsx)("span",{ref:V})]})},"".concat(e.id,"_").concat(e.from.id)),Object(i.jsxs)("div",{className:"flex pb-2 ".concat(e.isOwnMessage?"justify-end mr-8":"justify-start ml-8"),children:[Object(i.jsx)("span",{className:"text-gray-400 text-1xs ".concat(e.isOwnMessage?"order-2":"order-1"),children:C(e.createdAt,!0)}),e.isOwnMessage&&e.seen&&t===l.chats.length-1&&Object(i.jsx)("span",{className:"text-gray-400 mx-2 text-1xs italic flex-grow ".concat(e.isOwnMessage?"order-1":"order-2"),children:"\xa0Seen"})]})]})},e.id)}))}),H&&Object(i.jsx)("div",{className:"flex justify-center py-2",children:Object(i.jsxs)("span",{className:"text-xs text-gray-400",children:[l.username," is typing..."]})})]})]}),Object(i.jsxs)("div",{className:"relative bottom-0 left-0 bg-white dark:bg-indigo-1100 w-full flex p-2 border-t border-gray-200 dark:border-gray-800",children:[Object(i.jsx)("input",{className:"flex-grow !border-gray-400 !rounded-r-none !py-0 dark:bg-indigo-1000 dark:text-white dark:!border-gray-800",type:"text",onChange:function(e){k(e.target.value)},onKeyDown:function(e){"Enter"===e.key?w&&(J(),E.a.emit("user-typing",{user:l,state:!1})):(E.a.emit("user-typing",{user:l,state:!0}),Y.current&&clearTimeout(Y.current),Y.current=setTimeout((function(){E.a.emit("user-typing",{user:l,state:!1})}),2e3))},readOnly:U||D,placeholder:"Send a message...",value:w}),Object(i.jsx)("button",{className:"!rounded-l-none flex items-center justify-center",disabled:U||D,onClick:J,children:Object(i.jsx)(h.a,{className:"flex items-center justify-center text-xl"})})]})]})},A=r(54),L=function(e){var t=e.users,r=Object(p.c)();return Object(i.jsx)("div",{className:"p-4 absolute bottom-0 right-0",children:Object(i.jsx)(O.a,{component:null,children:t.map((function(e){var t;return e.minimized&&Object(i.jsx)(g.a,{timeout:500,classNames:"fade",children:Object(i.jsx)("div",{onClick:function(){return r(Object(S.d)(e))},title:e.username,children:Object(i.jsx)(A.a,{url:null===(t=e.profilePicture)||void 0===t?void 0:t.url,size:"lg",className:"cursor-pointer shadow-md hover:border-2 hover:border-indigo-500 hover:opacity-90  mr-2 my-4 border border-indigo-700"})},e.username)},e.username)}))})})},T=function(){var e=Object(p.d)((function(e){return{chats:e.chats,user:e.auth}})),t=e.chats,r=e.user;return Object(i.jsxs)("div",{className:"fixed bottom-0 right-0 z-50",children:[t.items.map((function(e){return t.active===e.id&&Object(i.jsx)(P,{user:r,target:e},e.id)})),Object(i.jsx)(L,{users:t.items})]})},F=(r(122),r(236)),M=r(237),D=function(e){var t=Object(o.useState)(e.isFollowing),r=Object(s.a)(t,2),n=r[0],l=r[1],j=Object(o.useState)(!1),b=Object(s.a)(j,2),x=b[0],m=b[1],h=Object(d.a)();Object(o.useEffect)((function(){l(e.isFollowing)}),[e.isFollowing]);var p=function(){var t=Object(c.a)(a.a.mark((function t(){var r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,m(!0),!n){t.next=9;break}return t.next=5,Object(u.I)(e.userID);case 5:r=t.sent,h&&l(r.state),t.next=13;break;case 9:return t.next=11,Object(u.g)(e.userID);case 11:c=t.sent,h&&l(c.state);case 13:h&&m(!1),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(0),h&&m(!1),console.log(t.t0);case 20:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(){return t.apply(this,arguments)}}();return Object(i.jsxs)("button",{className:"".concat(n&&"hover:bg-gray-200 bg-indigo-100 !border !border-indigo-500 text-indigo-700 dark:bg-indigo-1100 dark:text-indigo-400 dark:hover:bg-indigo-900 dark:hover:text-white"," flex items-center ").concat("sm"===e.size&&"!py-2 !px-3 !text-sm"),disabled:x,onClick:p,children:[n?Object(i.jsx)(F.a,{}):Object(i.jsx)(M.a,{}),"\xa0\xa0",Object(i.jsx)("span",{className:"".concat("sm"===e.size&&"text-sm"),children:x||x||n?"Following":"Follow"})]})},_=r(238),R=function(e){var t=Object(o.useState)(e.isLiked),r=Object(s.a)(t,2),n=r[0],l=r[1],j=Object(o.useState)(!1),b=Object(s.a)(j,2),x=b[0],m=b[1],h=Object(d.a)();Object(o.useEffect)((function(){l(e.isLiked)}),[e.isLiked]);var p=function(){var t=Object(c.a)(a.a.mark((function t(){var r,n,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!x){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,m(!0),t.next=6,Object(u.y)(e.postID);case 6:r=t.sent,n=r.state,c=r.likesCount,h&&(m(!1),l(n)),e.likeCallback(e.postID,n,c),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(2),h&&m(!1),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(){return t.apply(this,arguments)}}();return Object(i.jsxs)("span",{className:" px-1 py-2 rounded-md flex items-center justify-center hover:bg-gray-100 cursor-pointer text-l w-2/4  ".concat(n?"text-indigo-700 font-bold dark:text-indigo-400 dark:hover:bg-indigo-1100":"text-gray-700 dark:hover:bg-indigo-1100 dark:hover:text-white  dark:bg-indigo-1000 hover:text-gray-800 dark:text-gray-400"," ").concat(x&&"opacity-50"),onClick:p,children:[Object(i.jsx)(_.a,{}),"\xa0",n?"Unlike":"Like"]})},I=r(3),U=r(17),G=r(239),z=r(240),B=r(30),q=r(27),H=function(e){var t=e.messages,r=e.handleReadMessage,n=e.infiniteScrollRef;return Object(i.jsx)("div",{children:0===t.length?Object(i.jsx)("div",{className:"text-center p-4",children:Object(i.jsx)("p",{className:"text-gray-400 italic",children:"No Messages."})}):Object(i.jsx)("div",{className:"max-h-80vh laptop:max-h-70vh overflow-y-scroll divide-y divide-gray-100 scrollbar",children:Object(i.jsx)(O.a,{component:null,children:Object(i.jsx)("div",{ref:n,children:t.map((function(e){var t,n,a;return e.from&&e.to&&Object(i.jsx)(g.a,{timeout:500,classNames:"fade",children:Object(i.jsxs)("div",{className:"flex justify-start cursor-pointer hover:bg-gray-100 dark:hover:bg-indigo-1100 border border-transparent dark:hover:border-indigo-700 px-2 py-3 relative ".concat(!e.seen&&!e.isOwnMessage&&"bg-indigo-100 dark:bg-indigo-1100 hover:bg-indigo-200"),onClick:function(){return r(e.isOwnMessage?e.to:e.from)},children:[Object(i.jsx)(A.a,{url:e.isOwnMessage?null===(n=e.to.profilePicture)||void 0===n?void 0:n.url:null===(t=e.from.profilePicture)||void 0===t?void 0:t.url,size:"lg",className:"flex-shrink-0 mr-4"}),Object(i.jsxs)("div",{className:"relative flex-grow",children:[Object(i.jsx)("h5",{className:"".concat(!e.seen&&!e.isOwnMessage&&"font-bold text-gray-800 dark:text-white"," text-gray-500"),children:e.isOwnMessage?e.to.username:e.from.username}),Object(i.jsxs)("span",{className:"block max-w-16rem laptop:max-w-xs whitespace-nowrap overflow-hidden overflow-ellipsis ".concat(e.seen||e.isOwnMessage?"text-gray-400":"text-indigo-600 dark:text-indigo-400 font-medium"," text-sm"),children:[e.isOwnMessage&&"You:"," ",e.text]}),Object(i.jsx)("span",{className:"absolute right-4 top-0 text-1xs text-gray-400",children:C(e.createdAt)}),e.isOwnMessage&&e.seen&&Object(i.jsx)(A.a,{className:"absolute right-4 bottom-0",size:"xs",url:null===(a=e.to.profilePicture)||void 0===a?void 0:a.url}),!e.isOwnMessage&&!e.seen&&Object(i.jsx)("div",{className:"absolute rounded-full  bottom-0 top-0 right-4 my-auto w-2 h-2 bg-red-600"})]})]},e.id)},e.id)}))})})})})},K=function(e){var t,r=e.isAuth,n=Object(p.d)((function(e){return e.auth.id})),l=Object(o.useState)(!1),j=Object(s.a)(l,2),b=j[0],x=j[1],m=Object(o.useState)(!1),h=Object(s.a)(m,2),f=h[0],O=h[1],g=Object(o.useState)(0),y=Object(s.a)(g,2),w=y[0],k=y[1],N=Object(o.useState)(null),C=Object(s.a)(N,2),P=C[0],A=C[1],L=Object(o.useState)([]),T=Object(s.a)(L,2),F=T[0],M=T[1],D=Object(o.useState)(0),_=Object(s.a)(D,2),R=_[0],K=_[1],Y=Object(p.c)(),V=Object(d.d)(),J=Object(q.g)(),Q=Object(o.useRef)(b);Object(o.useEffect)((function(){Q.current=b}),[b]),Object(o.useEffect)((function(){return b&&$(),E.a.on("newMessage",(function(e){M((function(t){return X(t,e)})),K((function(t){return e.isOwnMessage?0:t+1}))})),document.addEventListener("click",Z),r&&Object(u.t)().then((function(e){K(e.count)})),function(){E.a.emit("userDisconnect",n)}}),[]);var X=function(e,t){var r=!1,n=e.map((function(e){var n=[e.from.username,e.to.username];return n.includes(t.from.username)&&n.includes(t.to.username)?(r=!0,t):e})).sort((function(e,t){return new Date(e.createdAt)>new Date(t.createdAt)?-1:1}));return r?n:[t].concat(Object(U.a)(n))},Z=function(e){var t=e.target.closest(".messages-toggle"),r=e.target.closest(".messages-wrapper"),n=e.target.closest(".see-more-button");t||!Q.current||r||n||x(!1)},$=function(){var e=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),A(null),e.next=5,Object(u.m)({offset:w});case 5:t=e.sent,M([].concat(Object(U.a)(F),Object(U.a)(t))),k(w+1),O(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),A(e.t0),O(!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Y(Object(S.d)(t)),x(!1),e.next=5,Object(u.C)(t.id);case 5:r=F.map((function(e){return e.from.id===t.id?Object(I.a)(Object(I.a)({},e),{},{seen:!0}):e})),M(r),window.screen.width<800&&J.push("/chat/".concat(t.username)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),te=Object(B.a)({loading:f,hasNextPage:!P&&F.length>=10,onLoadMore:$,scrollContainer:"parent"});return Object(i.jsxs)("div",{className:"relative",children:[Object(i.jsx)("div",{onClick:function(){x(!b),K(0),b||0!==F.length||$()},children:Object(i.jsx)(v.b,{count:R,children:Object(i.jsx)(G.a,{className:"messages-toggle text-xl focus:outline-none dark:text-white"})})}),b&&Object(i.jsxs)("div",{className:"messages-wrapper h-screen border border-transparent dark:border-gray-800 laptop:h-auto fixed top-14 laptop:top-10 pb-14 laptop:pb-0 right-0 w-full laptop:w-30rem bg-white dark:bg-indigo-1000 shadow-lg laptop:rounded-md laptop:absolute",children:[Object(i.jsxs)("div",{className:"px-4 py-2 border-b-gray-200 flex justify-between items-center bg-indigo-700 laptop:rounded-t-md",children:[Object(i.jsx)("h6",{className:"text-white",children:"Messages"}),Object(i.jsxs)("span",{className:"text-sm flex p-2 text-white rounded-md hover:bg-indigo-500",onClick:function(){V.openModal(),x(!1)},children:[Object(i.jsx)(z.a,{className:"mr-2"}),"Compose"]})]}),f&&!P&&0===F.length&&Object(i.jsx)("div",{className:"flex items-center justify-center py-8",children:Object(i.jsx)(v.e,{})}),0===F.length&&P&&Object(i.jsx)("div",{className:"flex justify-center py-6",children:Object(i.jsx)("p",{className:"text-gray-400 italic",children:404===P.status_code?"You have no messages.":(null===P||void 0===P||null===(t=P.error)||void 0===t?void 0:t.message)||"Something went wrong :("})}),0!==F.length&&Object(i.jsx)(H,{messages:F,handleReadMessage:ee,infiniteScrollRef:te}),f&&!P&&0!==F.length&&Object(i.jsx)("div",{className:"flex items-center justify-center py-4",children:Object(i.jsx)(v.e,{})})]}),V.isOpen&&Object(i.jsx)(W,{isOpen:V.isOpen,openModal:V.openModal,closeModal:V.closeModal,userID:n})]})},Y=r(25),V=r.n(Y);V.a.setAppElement("#root");var W=function(e){var t=Object(p.c)(),r=Object(q.g)();return Object(i.jsx)(V.a,{isOpen:e.isOpen,onAfterOpen:e.onAfterOpen,onRequestClose:e.closeModal,contentLabel:"Compose Message Modal",className:"modal",shouldCloseOnOverlayClick:!0,overlayClassName:"modal-overlay",children:Object(i.jsxs)("div",{className:"relative transition-all pb-8 min-h-18rem",children:[Object(i.jsx)("div",{className:"absolute right-2 top-2 p-1 rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-200 dark:hover:bg-indigo-1100",onClick:e.closeModal,children:Object(i.jsx)(x.a,{className:"p-2  outline-none text-gray-500 dark:text-white"})}),Object(i.jsxs)("h3",{className:"py-4 px-8 flex dark:text-white",children:[Object(i.jsx)(z.a,{className:"mr-2"}),"Compose Message"]}),Object(i.jsxs)("div",{className:"flex justify-start px-8 mt-4",children:[Object(i.jsx)("h4",{className:"mr-2 pt-2 dark:text-white",children:"To: "}),Object(i.jsx)(v.j,{floatingResult:!1,clickItemCallback:function(n){e.userID!==n.id&&(t(Object(S.d)(n)),e.closeModal(),window.screen.width<800&&r.push("/chat/".concat(n.username)))},showNoResultMessage:!0,preventDefault:!0})]})]})})},J=r(241),Q=r(242);V.a.setAppElement("#root");var X=function(e){var t=Object(o.useState)(""),r=Object(s.a)(t,2),n=r[0],a=r[1],c=Object(o.useState)("public"),u=Object(s.a)(c,2),j=u[0],b=u[1],m=Object(p.d)((function(e){return e.loading.isLoadingCreatePost})),h=Object(d.c)("multiple",[]),f=h.imageFile,O=h.onFileChange,g=h.clearFiles,v=h.removeImage;return Object(i.jsx)(V.a,{isOpen:e.isOpen,onAfterOpen:e.onAfterOpen,onRequestClose:e.closeModal,contentLabel:"Create Post",className:"modal",overlayClassName:"modal-overlay",children:Object(i.jsxs)("div",{className:"relative",children:[Object(i.jsx)("div",{className:"absolute right-2 top-2 p-1 rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-200 dark:hover:bg-indigo-1100",onClick:e.closeModal,children:Object(i.jsx)(x.a,{className:"p-2  outline-none text-gray-500 dark:text-white"})}),Object(i.jsxs)("div",{className:"w-full laptop:w-40rem p-4 laptop:px-8",children:[Object(i.jsx)("h2",{className:"dark:text-white",children:"Create Post"}),Object(i.jsxs)("select",{className:"!py-1 !text-sm w-32 dark:bg-indigo-1100 dark:text-white dark:border-gray-800",id:"privacy",name:"privacy",onChange:function(e){var t=e.target.value;b(t)},value:j,children:[Object(i.jsx)("option",{value:"public",children:"Public"}),Object(i.jsx)("option",{value:"follower",children:"Follower"}),Object(i.jsx)("option",{value:"private",children:"Only Me"})]}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsxs)("div",{className:"flex flex-col",children:[Object(i.jsx)("textarea",{className:"dark:bg-indigo-1100 dark:text-white dark:!border-gray-800",cols:3,id:"post",name:"post",onChange:function(e){var t=e.target.value;a(t)},placeholder:"What's on your mind?",rows:3,readOnly:m,value:n}),Object(i.jsxs)("div",{className:"flex items-center",children:[Object(i.jsxs)("div",{className:"flex items-center flex-grow",children:[Object(i.jsx)("input",{multiple:!0,type:"file",hidden:!0,accept:"image/*",onChange:O,readOnly:m,id:"photos"}),Object(i.jsx)("label",{className:"inline-flex items-center cursor-pointer justify-start border-gray-200 text-gray-400 py-2 text-xs",htmlFor:"photos",children:Object(i.jsx)("div",{className:"group flex items-center justify-center w-10 h-10 border-2 border-dashed border-gray-400 hover:border-indigo-700",title:"Upload photo",children:Object(i.jsx)(J.a,{className:"text-xl text-gray-400 hover:text-indigo-700"})})})]}),Object(i.jsx)("div",{className:"flex justify-end",children:Object(i.jsx)("button",{onClick:function(){if(n){var t=new FormData;t.set("description",n),t.set("privacy",j),0!==f.length&&f.forEach((function(e){e.file&&t.append("photos",e.file)})),e.dispatchCreatePost(t),Object(l.c)("Creating post..."),a(""),g(),e.closeModal()}},disabled:m,children:"Create Post"})})]}),Object(i.jsx)("div",{className:"flex items-center space-x-2",children:f&&f.map((function(e){return Object(i.jsx)("div",{className:"w-14 h-14 !bg-cover !bg-no-repeat relative",style:{background:"#f7f7f7 url(".concat(e.url,")")},children:Object(i.jsx)(Q.a,{className:"p-2 absolute top-0 left-0 right-0 bottom-0 margin-auto text-3xl text-white hover:bg-red-600 cursor-pointer outline-none opacity-75 hover:opacity-100",onClick:function(){return v(e.id)}})},e.id)}))})]})]})]})})},Z=r(136),$=function(e){return new Promise((function(t,r){var n=new Image;n.addEventListener("load",(function(){return t(n)})),n.addEventListener("error",(function(e){return r(e)})),n.setAttribute("crossOrigin","anonymous"),n.src=e}))};function ee(e){return e*Math.PI/180}function te(e,t){return re.apply(this,arguments)}function re(){return(re=Object(c.a)(a.a.mark((function e(t,r){var n,c,s,i,o,l,d,u=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>2&&void 0!==u[2]?u[2]:0,e.next=3,$(t);case 3:if(c=e.sent,s=document.createElement("canvas"),i=s.getContext("2d"),o=Math.max(c.width,c.height),l=o/2*Math.sqrt(2)*2,i&&r){e.next=10;break}return e.abrupt("return");case 10:return s.width=l,s.height=l,i.translate(l/2,l/2),i.rotate(ee(n)),i.translate(-l/2,-l/2),i.drawImage(c,l/2-.5*c.width,l/2-.5*c.height),d=i.getImageData(0,0,l,l),s.width=r.width,s.height=r.height,i.putImageData(d,Math.round(0-l/2+.5*c.width-r.x),Math.round(0-l/2+.5*c.height-r.y)),e.abrupt("return",new Promise((function(e){s.toBlob((function(t){e({url:URL.createObjectURL(t),blob:t})}),"image/jpeg")})));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}V.a.setAppElement("#root");var ne=function(e){var t,r=Object(o.useState)({x:0,y:0}),n=Object(s.a)(r,2),l=n[0],d=n[1],u=Object(o.useState)(1.5),j=Object(s.a)(u,2),b=j[0],x=j[1],m=Object(o.useState)(1),h=Object(s.a)(m,2),p=h[0],f=h[1],O=Object(o.useState)(null),g=Object(s.a)(O,2),y=g[0],w=g[1],k=Object(o.useState)(!1),N=Object(s.a)(k,2),C=N[0],S=N[1],E=Object(o.useCallback)(Object(c.a)(a.a.mark((function t(){var r,n,c,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,S(!0),t.next=4,te(e.file.url,y);case 4:r=t.sent,n=r.url,c=r.blob,S(!1),s=new File([c],e.file.id,{type:"image/jpeg"}),e.onCropSuccessCallback(s),A(),URL.revokeObjectURL(n),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.error("ERROR CROPPING: ",t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])}))),[y]),P=function(e){x(e)},A=function(){w(null),x(1),f(1),d({x:0,y:0}),e.closeModal()};return Object(i.jsx)("div",{children:Object(i.jsx)(V.a,{isOpen:e.isOpen,onAfterOpen:e.onAfterOpen,onRequestClose:e.closeModal,contentLabel:"Example Modal",className:"modal",shouldCloseOnOverlayClick:!1,overlayClassName:"modal-overlay",children:Object(i.jsxs)("div",{className:"w-full laptop:w-30rem rounded-md",children:[Object(i.jsxs)("div",{className:"p-4 flex items-start justify-between",children:[Object(i.jsx)("h2",{className:"text-xl laptop:text-2xl dark:text-white",children:"Crop Photo"}),Object(i.jsxs)("div",{className:"flex items-center",children:[Object(i.jsx)("button",{className:"button--muted !rounded-full  dark:bg-indigo-1100 dark:text-white dark:hover:bg-indigo-1100",disabled:C,onClick:A,children:"Cancel"}),"\xa0",Object(i.jsx)("button",{onClick:E,disabled:C,children:"Save"})]})]}),Object(i.jsxs)("div",{className:"crop-container w-full h-20rem relative",children:[C&&Object(i.jsxs)("div",{className:"w-full h-full bg-black bg-opacity-50 flex flex-col items-center justify-center z-50 absolute",children:[Object(i.jsx)("h3",{className:"text-white mb-2",children:"Cropping"}),Object(i.jsx)(v.e,{mode:"light"})]}),Object(i.jsx)(Z.a,{image:(null===(t=e.file)||void 0===t?void 0:t.url)||"",crop:l,zoom:b,aspect:p,cropShape:"round",showGrid:!1,onCropChange:function(e){d(e)},onCropComplete:function(e,t){w(t)},onZoomChange:P})]}),Object(i.jsx)("div",{className:"controls p-4",children:Object(i.jsx)("input",{className:"w-full outline-none",value:b,min:1,max:3,step:.1,readOnly:C,onChange:function(e){return P(Number(e.target.value))},type:"range"})})]})})})},ae=(r(118),r(119),r(120),r(131)),ce=function(e){var t=e.images,r=e.isOpen,n=e.closeLightbox,a=e.activeIndex,c=Object(o.useState)(a),l=Object(s.a)(c,2),d=l[0],u=l[1];Object(o.useEffect)((function(){u(a)}),[a]);return r?Object(i.jsx)("div",{className:"relative",children:Object(i.jsx)(ae.a,{mainSrc:t[d],nextSrc:t[(d+1)%t.length],prevSrc:t[(d+t.length-1)%t.length],onCloseRequest:n,onMovePrevRequest:function(){u((d+t.length-1)%t.length)},onMoveNextRequest:function(){u((d+1)%t.length)},enableZoom:!1,wrapperClassName:"lightbox-wrapper",reactModalStyle:{content:{zIndex:9999,top:"60px"}}})}):null};V.a.setAppElement("#root");var se=function(e){var t,r;return Object(i.jsx)(V.a,{isOpen:e.isOpen,onAfterOpen:e.onAfterOpen,onRequestClose:e.closeModal,contentLabel:"Example Modal",className:"modal",shouldCloseOnOverlayClick:!e.isLoggingOut,overlayClassName:"modal-overlay",children:Object(i.jsxs)("div",{className:"relative",children:[Object(i.jsx)("div",{className:"absolute right-2 top-2 p-1 rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-200 dark:hover:bg-indigo-1100",onClick:function(){e.isLoggingOut||e.closeModal()},children:Object(i.jsx)(x.a,{className:"p-2  outline-none text-gray-500 dark:text-white"})}),e.error&&Object(i.jsx)("span",{className:"p-4 bg-red-100 text-red-500 block",children:(null===(t=e.error)||void 0===t||null===(r=t.error)||void 0===r?void 0:r.message)||"Unable to process your request."}),Object(i.jsxs)("div",{className:"p-4 laptop:px-8",children:[Object(i.jsx)("h2",{className:"dark:text-white",children:"Confirm Logout"}),Object(i.jsx)("p",{className:"text-gray-600 my-4 dark:text-gray-400",children:"Are you sure you want to logout?"}),Object(i.jsxs)("div",{className:"flex justify-between",children:[Object(i.jsx)("button",{className:"button--muted !rounded-full dark:bg-indigo-1100 dark:text-white dark:hover:bg-indigo-1100 dark:hover:text-white",onClick:e.closeModal,disabled:e.isLoggingOut,children:"Cancel"}),Object(i.jsx)("button",{className:"button--danger",disabled:e.isLoggingOut,onClick:e.dispatchLogout,children:e.isLoggingOut?"Logging Out":"Logout"})]})]})]})})},ie=(r(121),r(224)),oe=Object(o.lazy)((function(){return Promise.resolve().then(r.bind(null,120))})),le=Object(o.lazy)((function(){return Promise.resolve().then(r.bind(null,121))})),de=Object(o.lazy)((function(){return Promise.resolve().then(r.bind(null,119))})),ue=function(e){return Object(i.jsxs)(o.Suspense,{fallback:Object(i.jsx)(ie.a,{className:"text-gray-800 dark:text-white"}),children:[Object(i.jsx)(de,{deleteSuccessCallback:e.deleteSuccessCallback}),Object(i.jsx)(oe,{updateSuccessCallback:e.updateSuccessCallback}),Object(i.jsx)(le,{})]})},je=r(243),be=function(e){var t=e.toggleNotification,r=e.notifications,n=e.readNotification,a=e.infiniteScrollRef,c=Object(q.g)();return Object(i.jsx)("div",{className:"relative",children:0===r.length?Object(i.jsx)("div",{className:"text-center p-4",children:Object(i.jsx)("p",{className:"text-gray-400 italic",children:"No new notifications"})}):Object(i.jsx)("div",{className:"max-h-80vh laptop:max-h-70vh relative overflow-y-scroll divide-y divide-gray-100 scrollbar",children:Object(i.jsx)(O.a,{component:null,children:Object(i.jsx)("div",{ref:a,children:r.map((function(e){var r;return e.initiator&&Object(i.jsx)(g.a,{timeout:500,classNames:"fade",children:Object(i.jsx)("div",{className:"border border-transparent dark:hover:border-indigo-700 ".concat(e.unread?"bg-indigo-100 dark:bg-indigo-1100 hover:bg-indigo-200":"bg-white dark:bg-indigo-1000 dark:hover:bg-indigo-1100"," p-4 hover:bg-gray-100 dark:hover:bg-indigo-1100 hover:opacity-95 divide-y divide-y-2 divide-gray-100"),onClick:function(){return r=e.link,a=e.id,n(a),t(!1),void c.push(r);var r,a},children:Object(i.jsxs)("div",{className:"relative",children:[Object(i.jsxs)("div",{className:"flex items-start",children:[Object(i.jsx)(v.a,{url:null===(r=e.initiator.profilePicture)||void 0===r?void 0:r.url,size:window.screen.width<1024?"sm":"lg",className:"mr-2 flex-shrink-0"}),Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{className:"text-indigo-700 dark:text-indigo-400 font-medium break-all",children:e.initiator.username}),"\xa0",Object(i.jsx)("span",{className:"text-gray-600 dark:text-gray-400 break-all",children:"like"===e.type?"likes your post.":"comment"===e.type?"commented on your post.":"comment-like"===e.type?"likes your comment.":"follow"===e.type?"started following you.":"reply"===e.type?"replied to your comment":""}),Object(i.jsx)("br",{}),Object(i.jsx)("span",{className:"text-gray-500 text-1xs block",children:C(e.createdAt)})]})]}),"like"===e.type||"comment-like"===e.type?Object(i.jsx)(_.a,{className:"text-2xl text-indigo-700 dark:text-indigo-400 absolute right-4 top-0 bottom-0 my-auto"}):"comment"===e.type||"reply"===e.type?Object(i.jsx)(m.a,{className:"text-2xl text-indigo-700 dark:text-indigo-400 absolute right-4 top-0 bottom-0 my-auto"}):Object(i.jsx)(M.a,{className:"text-2xl text-indigo-700 dark:text-indigo-400 absolute right-4 top-0 bottom-0 my-auto"})]})},e.id)},e.id)}))})})})})},xe=function(e){var t,r=e.isAuth,n=Object(p.d)((function(e){return e.auth.id})),l=Object(o.useState)(!1),d=Object(s.a)(l,2),j=d[0],b=d[1],x=Object(o.useState)(!1),m=Object(s.a)(x,2),h=m[0],f=m[1],O=Object(o.useState)(!1),g=Object(s.a)(O,2),y=g[0],w=g[1],k=Object(o.useState)(0),N=Object(s.a)(k,2),C=N[0],S=N[1],P=Object(o.useState)(0),A=Object(s.a)(P,2),L=A[0],T=A[1],F=Object(o.useState)(null),M=Object(s.a)(F,2),D=M[0],_=M[1],R=Object(o.useState)({items:[],count:0}),G=Object(s.a)(R,2),z=G[0],q=G[1],H=Object(o.useRef)(j);Object(o.useEffect)((function(){H.current=j}),[j]),Object(o.useEffect)((function(){return E.a.on("newNotification",(function(e){var t=e.notification;e.count;console.log("STATE: ",z),S(C+1),q((function(e){return Object(I.a)(Object(I.a)({},e),{},{items:[t].concat(Object(U.a)(e.items))})})),console.log(t)})),document.addEventListener("click",K),r&&Object(u.u)().then((function(e){var t=e.count;S(t)})),function(){E.a.emit("userDisconnect",n)}}),[]);var K=function(e){var t=e.target.closest(".notification-toggle"),r=e.target.closest(".notification-wrapper");t||!H.current||r||b(!1)},Y=function(){var e=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),_(null),e.next=5,Object(u.o)({offset:L});case 5:t=e.sent,q({items:[].concat(Object(U.a)(z.items),Object(U.a)(t.notifications)),count:t.count,unreadCount:t.unreadCount}),T(L+1),f(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),f(!1),_(e.t0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(c.a)(a.a.mark((function e(t){var r,n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.D)(t);case 3:r=e.sent,n=r.state,c=z.items.map((function(e){return e.id===t?Object(I.a)(Object(I.a)({},e),{},{unread:n}):e})),q(Object(I.a)(Object(I.a)({},z),{},{items:c})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(c.a)(a.a.mark((function e(){var t,r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==z.items.length&&!y){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Object(u.B)();case 5:t=e.sent,r=t.state,n=z.items.map((function(e){return Object(I.a)(Object(I.a)({},e),{},{unread:r})})),w(!0),q(Object(I.a)(Object(I.a)({},z),{},{items:n})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}(),J=Object(B.a)({loading:h,hasNextPage:!D&&z.items.length>=10,onLoadMore:Y,scrollContainer:"parent"});return Object(i.jsxs)("div",{className:"relative",children:[Object(i.jsx)("div",{onClick:function(){S(0),b(!j),j||0!==z.items.length||Y()},children:Object(i.jsx)(v.b,{count:C,children:Object(i.jsx)(je.a,{className:"notification-toggle text-xl focus:outline-none dark:text-white"})})}),j&&Object(i.jsxs)("div",{className:"notification-wrapper border border-transparent dark:border-gray-800 fixed top-14 pb-14 laptop:pb-0 laptop:top-10 right-0 h-screen laptop:h-auto w-full laptop:w-30rem bg-white dark:bg-indigo-1000 shadow-lg rounded-md laptop:absolute",children:[Object(i.jsxs)("div",{className:"py-2 px-4 border-b-gray-200 flex justify-between items-center bg-indigo-700 laptop:rounded-t-md",children:[Object(i.jsx)("h6",{className:"text-white",children:"Notifications"}),Object(i.jsx)("span",{className:"text-sm  p-2 text-white opacity-80 rounded-md hover:bg-indigo-500",onClick:W,children:"Mark all as read"})]}),h&&!D&&0===z.items.length&&Object(i.jsx)("div",{className:"flex items-center justify-center py-8",children:Object(i.jsx)(v.e,{})}),0===z.items.length&&D&&Object(i.jsx)("div",{className:"flex justify-center py-6",children:Object(i.jsx)("p",{className:"text-gray-400 italic",children:404===D.status_code?"You don't notification.":(null===D||void 0===D||null===(t=D.error)||void 0===t?void 0:t.message)||"Something went wrong :("})}),0!==z.items.length&&Object(i.jsxs)("div",{children:[Object(i.jsx)(be,{notifications:z.items,readNotification:V,toggleNotification:b,infiniteScrollRef:J}),0!==z.items.length&&!D&&h&&Object(i.jsx)("div",{className:"flex justify-center py-2",children:Object(i.jsx)(v.e,{})})]})]})]})},me=r(76),he=r(244),pe=r(245),fe=r(246),Oe=r(53),ge=r(19),ve=r(29),ye=r(40),we=r(34),ke=Object(o.lazy)((function(){return Promise.resolve().then(r.bind(null,122))}));w.a.extend(N.a);var Ne=Object(Oe.a)((function(e){var t,r=e.post,n=e.likeCallback,a=e.isAuth,c=Object(o.useState)(!1),l=Object(s.a)(c,2),u=l[0],j=l[1],b=Object(d.d)(),x=Object(d.d)(),h=Object(o.useRef)(null),O=Object(p.c)(),g=function(){a&&(u||j(!0),h.current&&h.current.focus())};return Object(i.jsxs)("div",{className:"flex flex-col bg-white rounded-lg my-4 p-4 first:mt-0 shadow-lg dark:bg-indigo-1000",children:[Object(i.jsxs)("div",{className:"flex justify-between items-center w-full",children:[Object(i.jsxs)("div",{className:"flex",children:[Object(i.jsx)(v.a,{url:null===(t=r.author.profilePicture)||void 0===t?void 0:t.url,className:"mr-3"}),Object(i.jsxs)("div",{className:"flex flex-col",children:[Object(i.jsx)(f.a,{className:"dark:text-indigo-400",to:"/user/".concat(r.author.username),children:Object(i.jsx)("h5",{className:"font-bold",children:r.author.username})}),Object(i.jsxs)("div",{className:"flex items-center space-x-1",children:[Object(i.jsx)("span",{className:"text-sm text-gray-500",children:w()(r.createdAt).fromNow()}),Object(i.jsx)("div",{className:"w-4 h-4 rounded-full flex items-center justify-center ".concat(r.isOwnPost&&"cursor-pointer hover:bg-gray-100 dark:hover:bg-indigo-900"),onClick:function(){r.isOwnPost&&(O(Object(ve.b)(r)),O(Object(ye.b)(we.a.EDIT_POST)))},title:r.isOwnPost?"Change Privacy":"",children:"private"===r.privacy?Object(i.jsx)(he.a,{className:"text-xs text-gray-500 dark:text-white"}):"follower"===r.privacy?Object(i.jsx)(pe.a,{className:"text-xs text-gray-500 dark:text-white"}):Object(i.jsx)(fe.a,{className:"text-xs text-gray-500 dark:text-white"})})]})]})]}),a&&Object(i.jsx)(me.b,{openDeleteModal:b.openModal,openUpdateModal:x.openModal,post:r})]}),Object(i.jsx)("div",{className:"mb-3 mt-2",children:Object(i.jsx)("p",{className:"text-gray-700 dark:text-gray-300 break-words",children:r.description})}),0!==r.photos.length&&Object(i.jsx)(v.d,{images:r.photos.map((function(e){return e.url}))}),Object(i.jsxs)("div",{className:"flex justify-between px-2 my-2",children:[Object(i.jsx)("div",{onClick:function(){a&&(O(Object(ye.b)(we.a.POST_LIKES)),O(Object(ve.b)(e.post)))},children:r.likesCount>0&&Object(i.jsx)("span",{className:"text-gray-500 text-sm cursor-pointer hover:underline hover:text-gray-800 dark:hover:text-white",children:function(e,t){var r=e>1?"like":"likes",n=e-1>1?"like":"likes",a=e>1?"people":"person",c=e-1>1?"people":"person";return t&&e<=1?"You like this.":t&&e>1?"You and ".concat(e-1," other ").concat(c," ").concat(n," this."):"".concat(e," ").concat(a," ").concat(r," this.")}(r.likesCount,r.isLiked)})}),Object(i.jsx)("div",{children:r.commentsCount>0&&Object(i.jsxs)("span",{className:"text-gray-500 hover:text-gray-800 cursor-pointer text-sm hover:underline dark:text-gray-500 dark:hover:text-white",onClick:g,children:[r.commentsCount," ",1===r.commentsCount?"comment":"comments"]})})]}),a?Object(i.jsxs)("div",{className:"flex items-center justify-around py-2 border-t border-gray-200 dark:border-gray-800",children:[Object(i.jsx)(R,{postID:r.id,isLiked:r.isLiked,likeCallback:n}),Object(i.jsxs)("span",{className:"py-2 rounded-md flex items-center justify-center text-gray-700 hover:text-gray-800 700 dark:text-gray-400 dark:hover:text-white dark:hover:bg-indigo-1100 cursor-pointer hover:bg-gray-100 text-l w-2/4",onClick:g,children:[Object(i.jsx)(m.a,{}),"\xa0Comment"]})]}):Object(i.jsx)("div",{className:"text-center py-2",children:Object(i.jsxs)("span",{className:"text-gray-400 text-sm",children:[Object(i.jsx)(f.a,{className:"font-medium underline dark:text-indigo-400",to:ge.c,children:"Login"})," to like or comment on post."]})}),a&&Object(i.jsx)(o.Suspense,{fallback:Object(i.jsx)(ie.a,{className:"text-gray-800 dark:text-white"}),children:Object(i.jsx)(ke,{postID:r.id,authorID:r.author.id,isCommentVisible:u,commentInputRef:h,setInputCommentVisible:j})})]})})),Ce=function(){var e,t=Object(o.useState)([]),r=Object(s.a)(t,2),n=r[0],l=r[1],d=Object(o.useState)(!1),j=Object(s.a)(d,2),b=j[0],x=j[1],m=Object(o.useState)(null),h=Object(s.a)(m,2),p=h[0],O=h[1];return Object(o.useEffect)((function(){Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x(!0),e.next=4,Object(u.s)({offset:0,limit:6});case 4:t=e.sent,l(t),x(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),x(!1),O(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))()}),[]),Object(i.jsxs)("div",{className:"w-full py-4 bg-white dark:bg-indigo-1000 rounded-md shadow-lg overflow-hidden",children:[Object(i.jsxs)("div",{className:"px-4 flex justify-between mb-4",children:[Object(i.jsx)("h4",{className:"dark:text-white",children:"Suggested People"}),Object(i.jsx)(f.a,{to:ge.n,className:"text-xs underline dark:text-indigo-500",children:"See all"})]}),b&&Object(i.jsxs)("div",{className:"min-h-10rem px-4",children:[Object(i.jsx)(v.l,{}),Object(i.jsx)(v.l,{}),Object(i.jsx)(v.l,{}),Object(i.jsx)(v.l,{})]}),!b&&p&&Object(i.jsx)("div",{className:"flex min-h-10rem items-center justify-center",children:Object(i.jsx)("span",{className:"text-gray-400 italic",children:(null===p||void 0===p||null===(e=p.error)||void 0===e?void 0:e.message)||"Something went wrong :("})}),!p&&n.map((function(e){var t;return Object(i.jsx)("div",{className:"mb-2",children:Object(i.jsxs)("div",{className:"relative flex items-center justify-between px-4 py-2",children:[Object(i.jsx)(f.a,{to:"/user/".concat(e.username),children:Object(i.jsxs)("div",{className:"flex items-center",children:[Object(i.jsx)(v.a,{url:null===(t=e.profilePicture)||void 0===t?void 0:t.url,className:"mr-2"}),Object(i.jsx)("h6",{className:"mr-10 text-sm overflow-ellipsis overflow-hidden dark:text-white",children:e.username})]})}),Object(i.jsx)("div",{className:"absolute px-4 bg-white dark:bg-indigo-1000 right-0 top-0 bottom-0 my-auto flex items-center",children:Object(i.jsx)(D,{userID:e.id||e._id,isFollowing:e.isFollowing,size:"sm"})})]})},e.id||e._id)}))]})},Se=r(58)},19:function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"k",(function(){return a})),r.d(t,"b",(function(){return c})),r.d(t,"d",(function(){return s})),r.d(t,"e",(function(){return i})),r.d(t,"j",(function(){return o})),r.d(t,"g",(function(){return l})),r.d(t,"h",(function(){return d})),r.d(t,"i",(function(){return u})),r.d(t,"f",(function(){return j})),r.d(t,"l",(function(){return b})),r.d(t,"a",(function(){return x})),r.d(t,"n",(function(){return m})),r.d(t,"m",(function(){return h}));var n="/login",a="/register",c="/",s="/post/:post_id",i="/user/:username",o="/user/:username/info",l="/user/:username/edit",d="/user/:username/followers",u="/user/:username/following",j="/user/:username/bookmarks",b="/search",x="/chat/:username",m="/suggested",h="/auth/:provider/failed"},212:function(e,t,r){},213:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(1),c=r.n(a),s=r(43),i=r.n(s),o=(r(146),r(9)),l=r(80),d=(r(212),r(79)),u=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,255)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),c(e),s(e)}))};i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(o.a,{store:l.a,children:Object(n.jsx)(d.a,{})})}),document.getElementById("root")),u()},28:function(e,t,r){"use strict";var n=r(129),a=Object(n.io)(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FOODIE_URL||"http://localhost:9000",{reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,reconnectionAttempts:50});t.a=a},29:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return c}));var n=r(6),a=function(e){return{type:n.F,payload:e}},c=function(e){return{type:n.G,payload:e}}},32:function(e,t,r){"use strict";r.d(t,"e",(function(){return a})),r.d(t,"f",(function(){return c})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return i})),r.d(t,"h",(function(){return o})),r.d(t,"i",(function(){return l})),r.d(t,"d",(function(){return d})),r.d(t,"a",(function(){return u})),r.d(t,"g",(function(){return j}));var n=r(6),a=function(e){return{type:n.i,payload:e}},c=function(e){return{type:n.j,payload:e}},s=function(e){return{type:n.f,payload:e}},i=function(e){return{type:n.g,payload:e}},o=function(e){return{type:n.L,payload:e}},l=function(e,t,r){return{type:n.M,payload:{postID:e,state:t,likesCount:r}}},d=function(e){return{type:n.h,payload:e}},u=function(){return{type:n.d}},j=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:n.n,payload:e}}},33:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return i})),r.d(t,"e",(function(){return o})),r.d(t,"f",(function(){return l})),r.d(t,"g",(function(){return d}));var n=r(6),a=function(e,t){return{type:n.q,payload:{email:e,password:t}}},c=function(e){return{type:n.r,payload:e}},s=function(e){return{type:n.s,payload:{callback:e}}},i=function(){return{type:n.t}},o=function(e){var t=e.email,r=e.password,a=e.username;return{type:n.w,payload:{email:t,password:r,username:a}}},l=function(e){return{type:n.x,payload:e}},d=function(e){return{type:n.J,payload:e}}},34:function(e,t,r){"use strict";var n;r.d(t,"a",(function(){return n})),function(e){e.DELETE_COMMENT="DELETE_COMMENT",e.DELETE_POST="DELETE_POST",e.EDIT_POST="EDIT_POST",e.POST_LIKES="POST_LIKES"}(n||(n={}))},35:function(e,t,r){"use strict";r.d(t,"d",(function(){return a})),r.d(t,"e",(function(){return c})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return i})),r.d(t,"f",(function(){return o})),r.d(t,"a",(function(){return l}));var n=r(6),a=function(e){return{type:n.p,payload:e}},c=function(e){return{type:n.u,payload:e}},s=function(e){return{type:n.e,payload:e}},i=function(e,t){return{type:n.k,payload:{username:e,messages:t}}},o=function(e,t){return{type:n.v,payload:{username:e,message:t}}},l=function(){return{type:n.c}}},40:function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return c}));var n=r(6),a=function(e){return{type:n.I,payload:e}},c=function(e){return{type:n.o,payload:e}}},41:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"c",(function(){return c})),r.d(t,"b",(function(){return s}));var n=r(6),a=function(e){return{type:n.y,payload:e}},c=function(e){return{type:n.E,payload:e}},s=function(e){return{type:n.D,payload:e}}},44:function(e,t,r){"use strict";t.a=r.p+"static/media/logo.b8415742.svg"},51:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return c})),r.d(t,"d",(function(){return s})),r.d(t,"e",(function(){return i})),r.d(t,"c",(function(){return o}));var n=r(6),a=function(e){return{type:n.l,payload:e}},c=function(e){return{type:n.m,payload:e}},s=function(e){return{type:n.N,payload:e}},i=function(e){return{type:n.O,payload:e}},o=function(e){return{type:n.K,payload:e}}},53:function(e,t,r){"use strict";var n=r(3),a=r(0),c=r(9);t.a=function(e){return function(t){var r=Object(c.d)((function(e){return!!e.auth.id&&!!e.auth.username}));return Object(a.jsx)(e,Object(n.a)(Object(n.a)({},t),{},{isAuth:r}))}}},54:function(e,t,r){"use strict";var n=r(0),a=r(78),c=function(e){var t=e.url,r=e.size,c=e.className;return Object(n.jsx)("div",{className:"\n                ".concat("xs"===r?"w-5 h-5":"sm"===r?"w-8 h-8":"lg"===r?"w-12 h-12":"w-10 h-10"," !bg-cover !bg-no-repeat border border-gray-100 rounded-full ").concat(c),style:{background:"#f8f8f8 url(".concat(t||a.a,")")}})};c.defaultProps={size:"md"},t.a=c},57:function(e,t,r){"use strict";var n=r(1);t.a=function(e){Object(n.useLayoutEffect)((function(){document.title=e||"Foodie | Social Network"}),[e])}},58:function(e,t,r){"use strict";var n=r(0),a=r(9),c=r(13),s=r(18),i=r(7);t.a=function(e){var t,r=e.profile,o=Object(a.d)((function(e){return e.auth.username}));return Object(n.jsxs)("div",{className:"relative flex items-center justify-between px-4 py-2",children:[Object(n.jsx)(c.a,{to:"/user/".concat(r.username),children:Object(n.jsxs)("div",{className:"flex items-center",children:[Object(n.jsx)(i.a,{url:null===(t=r.profilePicture)||void 0===t?void 0:t.url,size:"lg",className:"mr-2"}),Object(n.jsxs)("h6",{className:"mr-10 max-w-md overflow-ellipsis overflow-hidden dark:text-indigo-400",children:["@",r.username]})]})}),Object(n.jsx)("div",{className:"absolute px-4 bg-white dark:bg-transparent right-0 top-0 bottom-0 my-auto flex items-center",children:r.username===o?Object(n.jsx)("h4",{className:"text-gray-400",children:"Me"}):Object(n.jsx)(s.g,{userID:r.id,isFollowing:r.isFollowing})})]})}},59:function(e,t,r){"use strict";var n=r(3),a=r(0),c=r(9);t.a=function(e){return function(t){var r=Object(c.d)((function(e){return e.settings.theme}));return Object(a.jsx)(e,Object(n.a)(Object(n.a)({},t),{},{theme:r}))}}},6:function(e,t,r){"use strict";r.d(t,"q",(function(){return n})),r.d(t,"r",(function(){return a})),r.d(t,"a",(function(){return c})),r.d(t,"s",(function(){return s})),r.d(t,"t",(function(){return i})),r.d(t,"w",(function(){return o})),r.d(t,"x",(function(){return l})),r.d(t,"y",(function(){return d})),r.d(t,"b",(function(){return u})),r.d(t,"E",(function(){return j})),r.d(t,"D",(function(){return b})),r.d(t,"z",(function(){return x})),r.d(t,"A",(function(){return m})),r.d(t,"C",(function(){return h})),r.d(t,"B",(function(){return p})),r.d(t,"i",(function(){return f})),r.d(t,"j",(function(){return O})),r.d(t,"f",(function(){return g})),r.d(t,"g",(function(){return v})),r.d(t,"L",(function(){return y})),r.d(t,"h",(function(){return w})),r.d(t,"d",(function(){return k})),r.d(t,"n",(function(){return N})),r.d(t,"M",(function(){return C})),r.d(t,"N",(function(){return S})),r.d(t,"O",(function(){return E})),r.d(t,"K",(function(){return P})),r.d(t,"J",(function(){return A})),r.d(t,"l",(function(){return L})),r.d(t,"m",(function(){return T})),r.d(t,"p",(function(){return F})),r.d(t,"u",(function(){return M})),r.d(t,"e",(function(){return D})),r.d(t,"c",(function(){return _})),r.d(t,"k",(function(){return R})),r.d(t,"v",(function(){return I})),r.d(t,"H",(function(){return U})),r.d(t,"F",(function(){return G})),r.d(t,"G",(function(){return z})),r.d(t,"I",(function(){return B})),r.d(t,"o",(function(){return q}));var n="LOGIN_START",a="LOGIN_SUCCESS",c="CHECK_SESSION",s="LOGOUT_START",i="LOGOUT_SUCCESS",o="REGISTER_START",l="REGISTER_SUCCESS",d="SET_AUTH_ERR_MSG",u="CLEAR_AUTH_ERR_MSG",j="SET_PROFILE_ERR_MSG",b="SET_NEWSFEED_ERR_MSG",x="SET_AUTH_LOADING",m="SET_CREATE_POST_LOADING",h="SET_GET_USER_LOADING",p="SET_GET_FEED_LOADING",f="GET_FEED_START",O="GET_FEED_SUCCESS",g="CREATE_POST_START",v="CREATE_POST_SUCCESS",y="UPDATE_FEED_POST",w="DELETE_FEED_POST",k="CLEAR_FEED",N="HAS_NEW_FEED",C="UPDATE_POST_LIKES",S="UPDATE_PROFILE_INFO",E="UPDATE_PROFILE_PICTURE",P="UPDATE_COVER_PHOTO",A="UPDATE_AUTH_PICTURE",L="GET_USER_START",T="GET_USER_SUCCESS",F="INITIATE_CHAT",M="MINIMIZE_CHAT",D="CLOSE_CHAT",_="CLEAR_CHAT",R="GET_MESSAGES_SUCCESS",I="NEW_MESSAGE_ARRIVED",U="SET_THEME",G="SET_TARGET_COMMENT_ID",z="SET_TARGET_POST",B="SHOW_MODAL",q="HIDE_MODAL"},67:function(e,t,r){"use strict";var n=r(53);r.d(t,"a",(function(){return n.a}));var a=r(59);r.d(t,"b",(function(){return a.a}))},7:function(e,t,r){"use strict";r.d(t,"a",(function(){return n.a})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return m})),r.d(t,"e",(function(){return h.a})),r.d(t,"g",(function(){return p.a})),r.d(t,"l",(function(){return p.c})),r.d(t,"i",(function(){return p.b})),r.d(t,"f",(function(){return C})),r.d(t,"h",(function(){return E})),r.d(t,"j",(function(){return R})),r.d(t,"k",(function(){return G}));var n=r(54),a=r(0),c=function(e){var t=e.children,r=e.count,n=void 0===r?0:r;return Object(a.jsxs)("div",{className:"relative",children:[n>0&&Object(a.jsx)("div",{className:"w-5 h-5 flex items-center justify-center rounded-md absolute -right-2 -top-3 bg-red-700 text-1xs text-white border-2 border-white dark:border-indigo-1000",children:n}),t&&t]})},s=r(124),i=r(125),o=r(135),l=r(132),d=r(1),u=function(e){Object(o.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1},e}return Object(i.a)(r,[{key:"componentDidCatch",value:function(e,t){console.log(e)}},{key:"render",value:function(){return this.state.hasError?Object(a.jsx)("div",{className:"loader",children:Object(a.jsx)("h3",{children:":( Something went wrong."})}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),r}(d.Component),j=r(2),b=r(18),x=r(12),m=function(e){var t=e.images,r=Object(x.d)(),n=r.isOpen,c=r.closeModal,s=r.openModal,i=Object(d.useState)(0),o=Object(j.a)(i,2),l=o[0],u=o[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"w-full h-25rem overflow-hidden",dangerouslySetInnerHTML:{__html:function(){switch(t.length){case 1:return'\n                    <div class="custom-grid">\n                        <img src='.concat(t[0],' class="grid-img" data-index="0"/>\n                    </div>\n                ');case 2:return'\n                    <div class="custom-grid custom-grid-rows-2">\n                        <img src='.concat(t[0],' class="grid-img" data-index="0"/>\n                        <img src=').concat(t[1],' class="grid-img" data-index="1"/>\n                    </div>\n                ');case 3:return'\n                    <div class="custom-grid custom-grid-rows-2">\n                        <div class="custom-grid">\n                            <img src='.concat(t[0],' class="grid-img" data-index="0"/>\n                        </div>\n                        <div class="custom-grid custom-grid-cols-2">\n                            <img src=').concat(t[1],' class="grid-img" data-index="1"/>\n                            <img src=').concat(t[2],' class="grid-img" data-index="2"/>\n                        </div>\n                    </div>\n                ');case 4:return'\n                    <div class="custom-grid custom-grid-rows-2">\n                        <div class="custom-grid custom-grid-cols-2">\n                            <img src='.concat(t[0],' class="grid-img" data-index="0"/>\n                            <img src=').concat(t[1],' class="grid-img" data-index="1"/>\n                        </div>\n                        <div class="custom-grid custom-grid-cols-2">\n                            <img src=').concat(t[2],' class="grid-img" data-index="2"/>\n                            <img src=').concat(t[3],' class="grid-img" data-index="3"/>\n                        </div>\n                    </div>\n                ');case 5:return'\n                    <div class="custom-grid custom-grid-rows-2">\n                        <div class="custom-grid custom-grid-cols-2">\n                            <img src='.concat(t[0],' class="grid-img" data-index="0" />\n                            <img src=').concat(t[1],' class="grid-img" data-index="1" />\n                        </div>\n                        <div class="custom-grid custom-grid-cols-3">\n                            <img src=').concat(t[2],' class="grid-img" data-index="2" />\n                            <img src=').concat(t[3],' class="grid-img" data-index="3" />\n                            <img src=').concat(t[4],' class="grid-img" data-index="4" />\n                        </div>\n                    </div>\n                ');default:return'\n                    <div class="custom-grid-items custom-grid-items-2">\n                        <img src='.concat(t[0],' class="grid-img"/>\n                    </div>\n                ')}}()},onClick:function(e){if(e.target.dataset){var t=e.target.dataset.index;u(t),setTimeout(s,100)}}}),Object(a.jsx)(b.h,{activeIndex:l,isOpen:n,closeLightbox:function(){c(),u(0)},images:t})]})},h=r(74),p=r(75),f=r(9),O=r(27),g=r(13),v=r(67),y=r(19),w=r(44),k=r(33),N=Object(d.lazy)((function(){return Promise.resolve().then(r.bind(null,99))})),C=Object(v.b)(Object(v.a)((function(e){var t,r=e.isAuth,c=e.theme,s=Object(f.c)(),i=Object(f.d)((function(e){return{isLoadingAuth:e.loading.isLoadingAuth,auth:e.auth,error:e.error.authError}})),o=i.isLoadingAuth,l=i.auth,u=i.error,j=Object(x.d)(),m=Object(O.h)().pathname,h=window.screen.width>=1024;return[y.c,y.k].includes(m)?null:Object(a.jsxs)(a.Fragment,{children:[h?Object(a.jsxs)("nav",{className:"contain flex justify-between items-center z-9999 border-b border-transparent dark:border-gray-900 align-center w-100 bg-white text-gray-700 h-60px py-2 fixed w-full shadow-md laptop:shadow-sm dark:bg-indigo-1000",children:[Object(a.jsxs)("div",{className:"flex items-center space-x-8",children:[Object(a.jsx)(g.a,{to:{pathname:"/",state:{from:m}},children:Object(a.jsx)("img",{src:w.a,alt:"",className:"w-24",style:{filter:"brightness(".concat("dark"===c?3.5:1,")")}})}),Object(a.jsx)(R,{})]}),Object(a.jsxs)("div",{className:"hidden laptop:flex laptop:items-center space-x-2",children:[r?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("ul",{className:"flex items-center space-x-8 mr-8",children:[Object(a.jsx)("li",{className:"flex items-center justify-center w-10 h-10 cursor-pointer rounded-full hover:bg-gray-200 dark:hover:bg-indigo-1100",children:Object(a.jsx)(b.k,{isAuth:r})}),Object(a.jsx)("li",{className:"flex items-center justify-center w-10 h-10 cursor-pointer rounded-full hover:bg-gray-200 dark:hover:bg-indigo-1100",children:Object(a.jsx)(b.l,{isAuth:r})})]}),Object(a.jsxs)("div",{className:"flex items-center",children:[Object(a.jsx)(g.a,{to:"/user/".concat(l.username),className:"cursor-pointer",children:Object(a.jsxs)("div",{className:"flex items-center",children:[Object(a.jsx)(n.a,{url:null===(t=l.profilePicture)||void 0===t?void 0:t.url,className:"mr-2"}),Object(a.jsxs)("h6",{className:"text-sm mr-10 dark:text-indigo-400",children:["@",l.username]})]})}),Object(a.jsx)("button",{className:"button--muted !rounded-full dark:bg-indigo-1100 dark:text-white dark:hover:bg-indigo-900 dark:hover:text-white dark:active:bg-indigo-1100",onClick:j.openModal,disabled:o,children:"Logout"})]})]}):Object(a.jsxs)("ul",{className:"flex items-center",children:[Object(a.jsx)("li",{className:"group inline-block mx-3",children:Object(a.jsx)(g.b,{to:"/login",className:"group-hover:text-indigo-600 text-gray-500 dark:hover:text-white",activeClassName:"nav-active",children:"Login"})}),Object(a.jsx)("li",{className:"group inline-block mx-3",children:Object(a.jsx)(g.b,{to:"/register",className:"button py-1 group-hover:text-indigo-600",activeClassName:"nav-active",children:"Register"})})]}),Object(a.jsx)(G,{})]})]}):Object(a.jsx)(d.Suspense,{fallback:Object(a.jsx)("nav",{className:"bg-white h-60px fixed top-0 left-0 w-full shadow-md"}),children:Object(a.jsx)(N,{isAuth:r,theme:c,auth:l,openModal:j.openModal})}),j.isOpen&&Object(a.jsx)(b.j,{isOpen:j.isOpen,closeModal:j.closeModal,openModal:j.openModal,dispatchLogout:function(){s(Object(k.c)(j.closeModal))},error:u,isLoggingOut:o})]})}))),S=(r(99),r(224)),E=function(){return Object(a.jsxs)("div",{className:"w-full h-screen z-9999 flex flex-col justify-center items-center animate-fade",children:[Object(a.jsx)("img",{src:w.a,alt:"Foodie Logo",className:"w-48"}),Object(a.jsx)("p",{className:"text-sm mt-4 text-gray-600",children:"Nothing brings people together like good food."}),Object(a.jsx)(S.a,{className:"text-xl mt-4"})]})},P=r(4),A=r.n(P),L=r(10),T=r(215),F=r(128),M=r.n(F),D=r(11),_=function(e){var t,r=Object(d.useState)(""),c=Object(j.a)(r,2),s=c[0],i=c[1],o=Object(d.useState)(!1),l=Object(j.a)(o,2),u=l[0],b=l[1],x=Object(d.useState)([]),m=Object(j.a)(x,2),p=m[0],f=m[1],g=Object(d.useState)(!1),v=Object(j.a)(g,2),y=v[0],w=v[1],k=Object(d.useState)(null),N=Object(j.a)(k,2),C=N[0],S=N[1],E=Object(O.g)(),P=Object(d.useRef)(y);Object(d.useEffect)((function(){P.current=y}),[y]),Object(d.useEffect)((function(){return document.addEventListener("click",F),function(){document.removeEventListener("click",F)}}),[]);var F=function(e){!e.target.closest(".input-wrapper")&&P.current&&w(!1)};return Object(a.jsxs)("div",{className:"input-wrapper relative flex flex-col items-center ".concat(e.inputClassName),children:[Object(a.jsx)(T.a,{className:"text-gray-400 absolute left-3 top-3 z-50"}),Object(a.jsx)("input",{className:"!border-gray-100 !pl-10 !py-2 dark:bg-indigo-1000 dark:!border-gray-800 dark:text-white",placeholder:"Search...",type:"text",onFocus:function(e){w(!0),e.target.select()},onChange:M()((function(e){e.persist();var t=e.target.value;i(t),Object(L.a)(A.a.mark((function e(){var r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),S(null),e.next=5,Object(D.G)({q:t,limit:5});case 5:r=e.sent,f(r),b(!1),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),b(!1),f([]),S(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))()}),200),onKeyDown:function(t){"Enter"===t.key&&s&&!e.preventDefault&&(E.push({pathname:"/search",search:"q=".concat(s.trim(),"&type=users")}),w(!1))}}),s&&y&&Object(a.jsxs)("div",{className:" bg-white dark:bg-indigo-1000 shadow-lg rounded-md w-full flex justify-center flex-col overflow-hidden ".concat(e.floatingResult?"absolute top-12":"relative top-0"),children:[!e.showNoResultMessage&&!C&&Object(a.jsx)("h6",{className:"p-4 text-xs border-b dark:text-white border-gray-100 dark:border-gray-800",children:"Search Suggestion"}),u&&!C&&Object(a.jsx)("div",{className:"flex items-center justify-center p-4",children:Object(a.jsx)(h.a,{})}),!u&&!C&&0!==p.length&&p.map((function(t){var r;return Object(a.jsx)("div",{className:"hover:bg-indigo-100 dark:hover:bg-indigo-900 p-2 cursor-pointer",onClick:function(){return function(t){e.clickItemCallback?e.clickItemCallback(t):(E.push("/user/".concat(t.username)),w(!1))}(t)},children:Object(a.jsxs)("div",{className:"flex items-center",children:[Object(a.jsx)(n.a,{url:null===(r=t.profilePicture)||void 0===r?void 0:r.url,className:"mr-2"}),Object(a.jsx)("h6",{className:"mr-10 text-sm max-w-md overflow-ellipsis overflow-hidden dark:text-white",children:t.username})]})},t.id)})),C&&0===p.length&&e.showNoResultMessage&&Object(a.jsx)("div",{className:"flex items-center justify-center p-4",children:Object(a.jsx)("span",{className:"text-gray-400 text-sm italic",children:(null===C||void 0===C||null===(t=C.error)||void 0===t?void 0:t.message)||"Something went wrong :("})})]})]})};_.defaultProps={floatingResult:!0,showNoResultMessage:!1,inputClassName:"w-20rem",preventDefault:!1};var R=_,I=(r(225),r(226),r(227),r(6)),U=function(e){return{type:I.H,payload:e}},G=function(){var e=Object(f.d)((function(e){return{theme:e.settings.theme}})).theme,t=Object(f.c)();Object(d.useEffect)((function(){var t=document.documentElement;"dark"===e?t.classList.add("dark"):t.classList.remove("dark")}),[e]);return Object(a.jsxs)("label",{className:"w-9 h-9 p-2 flex items-center justify-center rounded-full border border-gray-200 hover:bg-indigo-100 dark:hover:bg-indigo-900 dark:border-gray-800 cursor-pointer",title:"dark"===e?"Toggle Light Theme":"Toggle Dark Theme",children:[Object(a.jsx)("input",{className:"hidden",checked:"dark"===e,type:"checkbox",id:"theme",onChange:function(e){e.target.checked?t(U("dark")):t(U("light"))},name:"theme-switch",hidden:!0}),Object(a.jsx)("svg",{viewBox:"0 0 512.166 512.166",children:Object(a.jsx)("g",{children:Object(a.jsx)("g",{children:Object(a.jsx)("path",{d:"M503.536,289.135c-6.827-5.227-16.384-5.653-23.829-1.408c-2.219,1.259-4.416,2.539-6.699,3.712 c-50.709,26.624-108.437,31.403-162.517,13.419c-56.469-18.773-102.187-59.755-128.768-115.371 c-24.128-50.432-29.653-108.245-15.552-162.752c2.176-8.32-0.875-17.109-7.701-22.315c-6.805-5.205-16.085-5.803-23.573-1.536 C12.186,73.305-34.939,230.937,27.589,361.753c31.659,66.176,86.293,114.987,153.856,137.451 c25.963,8.619,52.629,12.907,79.168,12.907c40.064,0,79.851-9.749,116.608-29.013c66.027-34.624,114.965-97.259,134.293-171.84 C513.669,302.959,510.341,294.34,503.536,289.135z",style:{fill:"".concat("dark"===e?"cyan":"#cacaca")}})})})})]})}},74:function(e,t,r){"use strict";var n=r(0),a=function(e){var t=e.mode,r=e.size;return Object(n.jsxs)("div",{className:"flex items-center space-x-2",children:[Object(n.jsx)("div",{className:"animate-loader ".concat("light"===t?"animate-loader-light":"animate-loader-dark"),style:{width:"".concat("md"===r?"20px":"10px"),height:"".concat("md"===r?"20px":"10px")}}),Object(n.jsx)("div",{className:"animate-loader ".concat("light"===t?"animate-loader-light":"animate-loader-dark"),style:{width:"".concat("md"===r?"20px":"10px"),height:"".concat("md"===r?"20px":"10px")}}),Object(n.jsx)("div",{className:"animate-loader ".concat("light"===t?"animate-loader-light":"animate-loader-dark"),style:{width:"".concat("md"===r?"20px":"10px"),height:"".concat("md"===r?"20px":"10px")}})]})};a.defaultProps={mode:"dark",size:"sm"},t.a=a},75:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"c",(function(){return j})),r.d(t,"b",(function(){return b}));var n=r(3),a=r(0),c=r(62),s=r(59),i="#e2e2e2",o="#ecebeb",l="#181621",d="#25232f",u=Object(s.a)((function(e){return Object(a.jsxs)(c.a,Object(n.a)(Object(n.a)({speed:2,width:"100%",height:"100%",viewBox:"0 0 500 400",backgroundColor:"dark"===e.theme?l:i,foregroundColor:"dark"===e.theme?d:o},e),{},{children:[Object(a.jsx)("circle",{cx:"20",cy:"20",r:"20"}),Object(a.jsx)("rect",{x:"48",y:"8",rx:"3",ry:"3",width:"100",height:"10"}),Object(a.jsx)("rect",{x:"48",y:"26",rx:"3",ry:"3",width:"52",height:"10"}),Object(a.jsx)("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"80%",height:"10"}),Object(a.jsx)("rect",{x:"0",y:"78",rx:"3",ry:"3",width:"56%",height:"10"}),Object(a.jsx)("rect",{x:"0",y:"98",rx:"3",ry:"3",width:"65%",height:"10"}),Object(a.jsx)("rect",{x:"0",y:"132",rx:"3",ry:"3",width:"100%",height:"420"})]}))})),j=Object(s.a)((function(e){return Object(a.jsxs)(c.a,{speed:2,width:"100%",height:"55",backgroundColor:"dark"===e.theme?l:i,foregroundColor:"dark"===e.theme?d:o,children:[Object(a.jsx)("circle",{cx:"30",cy:"30",r:"20"}),Object(a.jsx)("rect",{x:"60",y:"25",rx:"5",ry:"5",width:"30%",height:"10"}),e.includeButton&&Object(a.jsx)("rect",{x:"70%",y:"10",rx:"20",ry:"20",width:"100",height:"40"})]})}));j.defaultProps={includeButton:!1};var b=Object(s.a)((function(e){var t=e.theme,r="dark"===t?l:i,n="dark"===t?d:o;return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"w-full h-60 laptop:mb-0 laptop:h-80 bg-gray-200 dark:bg-indigo-1000 relative overflow-hidden"}),Object(a.jsxs)("div",{className:"contain w-full relative flex transform laptop:-translate-y-28",children:[Object(a.jsx)("div",{className:"absolute left-0 right-0 mx-auto transform -translate-y-32 laptop:transform-none laptop:relative laptop:w-1/3 h-60 mr-2 flex justify-center",children:Object(a.jsx)("div",{className:"w-40 h-40 laptop:w-60 laptop:h-60 rounded-full border-4 border-white dark:border-indigo-1000 overflow-hidden",children:Object(a.jsx)(c.a,{speed:2,width:"100%",height:"100%",viewBox:"0 0 500 500",backgroundColor:r,foregroundColor:n,children:Object(a.jsx)("circle",{cx:"250",cy:"250",r:"250"})})})}),window.screen.width>=800&&Object(a.jsx)("div",{className:"flex w-full  flex-col self-end transform -translate-y-4 laptop:transform-none",children:Object(a.jsxs)("div",{className:"w-full  flex flex-col laptop:flex-row justify-center laptop:justify-between mr-14 ml-2 mb-2",children:[Object(a.jsx)("div",{children:Object(a.jsxs)(c.a,{speed:2,width:"100%",height:"100%",backgroundColor:r,foregroundColor:n,children:[Object(a.jsx)("rect",{x:"0",y:"70",rx:"15",ry:"15",width:"220",height:"25"}),Object(a.jsx)("rect",{x:"0",y:"110",rx:"5",ry:"5",width:"100",height:"15"})]})}),Object(a.jsx)("div",{children:Object(a.jsxs)(c.a,{speed:2,width:"100%",height:"100%",backgroundColor:r,foregroundColor:n,children:[Object(a.jsx)("rect",{x:"25",y:"70",rx:"25",ry:"25",width:"100",height:"50"}),Object(a.jsx)("rect",{x:"140",y:"70",rx:"25",ry:"25",width:"100",height:"50"})]})})]})})]})]})}))},76:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return f}));var n=r(2),a=r(0),c=r(231),s=r(220),i=r(232),o=r(1),l=r(9),d=r(29),u=function(e){var t=Object(o.useState)(!1),r=Object(n.a)(t,2),u=r[0],j=r[1],b=Object(o.useRef)(u),x=Object(l.c)();Object(o.useEffect)((function(){return document.addEventListener("click",m),function(){document.removeEventListener("click",m)}}),[]),Object(o.useEffect)((function(){b.current=u}),[u]);var m=function(t){!t.target.closest("#comment_".concat(e.comment.id))&&b.current&&j(!1)};return Object(a.jsxs)("div",{className:"relative z-10",id:"comment_".concat(e.comment.id),children:[Object(a.jsx)("div",{className:"p-2 rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-200 dark:text-white dark:hover:bg-indigo-1100",onClick:function(){j(!u)},children:Object(a.jsx)(c.a,{style:{fontSize:"20px"}})}),u&&Object(a.jsxs)("div",{className:" w-56 flex flex-col bg-white dark:bg-indigo-1000 rounded-md shadow-lg overflow-hidden absolute top-8 right-3 border border-gray-200 dark:border-gray-800 divide-y divide-gray-100 dark:divide-gray-800",children:[e.comment.isOwnComment&&Object(a.jsxs)("h4",{className:"p-4 flex items-center hover:bg-indigo-700 hover:text-white cursor-pointer dark:text-white",onClick:function(){j(!1),e.onClickEdit(),x(Object(d.a)(e.comment))},children:[Object(a.jsx)(s.a,{className:"mr-4"}),"Edit Comment"]}),Object(a.jsxs)("h4",{className:"p-4 flex items-center hover:bg-indigo-700 hover:text-white cursor-pointer dark:text-white",onClick:function(){x(Object(d.a)(e.comment)),e.openDeleteModal()},children:[Object(a.jsx)(i.a,{className:"mr-4"}),"Delete Comment"]})]})]})},j=r(224),b=r(233),x=r(217),m=r(18),h=r(40),p=r(34),f=function(e){var t=Object(o.useState)(!1),r=Object(n.a)(t,2),u=r[0],f=r[1],O=Object(o.useRef)(u),g=Object(l.c)();Object(o.useEffect)((function(){return document.addEventListener("click",v),function(){document.removeEventListener("click",v)}}),[]),Object(o.useEffect)((function(){O.current=u}),[u]);var v=function(t){!t.target.closest("#post_".concat(e.post.id))&&O.current&&f(!1)};return Object(a.jsxs)("div",{className:"relative z-10",id:"post_".concat(e.post.id),children:[Object(a.jsx)("div",{className:"post-option-toggle p-2 rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-200 dark:text-white dark:hover:bg-indigo-1100",onClick:function(){return f(!u)},children:Object(a.jsx)(c.a,{style:{fontSize:"20px"}})}),u&&Object(a.jsx)("div",{className:"w-60 flex flex-col bg-white dark:bg-indigo-1000 rounded-md shadow-lg overflow-hidden absolute top-8 right-3 border border-gray-200 dark:border-gray-800 divide-y divide-gray-100 dark:divide-gray-800",children:e.post.isOwnPost?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("h4",{className:"p-4 flex items-center hover:bg-indigo-700 hover:text-white cursor-pointer dark:text-white",onClick:function(){g(Object(h.b)(p.a.EDIT_POST)),g(Object(d.b)(e.post))},children:[Object(a.jsx)(s.a,{className:"mr-4"}),"Edit Post"]}),Object(a.jsxs)("h4",{className:"p-4 flex items-center hover:bg-indigo-700 hover:text-white cursor-pointer dark:text-white",onClick:function(){g(Object(h.b)(p.a.DELETE_POST)),g(Object(d.b)(e.post))},children:[Object(a.jsx)(i.a,{className:"mr-4"}),"Delete Post"]})]}):Object(a.jsx)(m.a,{postID:e.post.id,initBookmarkState:e.post.isBookmarked,children:function(e){var t=e.dispatchBookmark,r=e.isBookmarked,n=e.isLoading;return Object(a.jsxs)("h4",{className:"group p-4 flex items-center cursor-pointer dark:text-white hover:bg-indigo-500 hover:text-white",onClick:t,children:[n?Object(a.jsx)(j.a,{className:"text-gray-600 text-2xl p-2 dark:text-white group-hover:text-white"}):r?Object(a.jsx)(b.a,{className:"text-red-600 group-hover:text-white text-2xl p-2 flex justify-center items-center rounded-full"}):Object(a.jsx)(x.a,{className:"text-red-600 group-hover:text-white text-2xl p-2 flex justify-center items-center rounded-full"}),Object(a.jsxs)("span",{className:"".concat(n&&"opacity-50"),children:[r?"Unbookmark Post":"Bookmark Post"," "]})]})}})})]})}},78:function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWgAAAFoCAMAAABNO5HnAAAAvVBMVEXh4eGjo6OkpKSpqamrq6vg4ODc3Nzd3d2lpaXf39/T09PU1NTBwcHOzs7ExMS8vLysrKy+vr7R0dHFxcXX19e5ubmzs7O6urrZ2dmnp6fLy8vHx8fY2NjMzMywsLDAwMDa2trV1dWysrLIyMi0tLTCwsLKysrNzc2mpqbJycnQ0NC/v7+tra2qqqrDw8OoqKjGxsa9vb3Pz8+1tbW3t7eurq7e3t62travr6+xsbHS0tK4uLi7u7vW1tbb29sZe/uLAAAG2UlEQVR4XuzcV47dSAyG0Z+KN+ccO+ecHfe/rBl4DMNtd/cNUtXD6DtLIAhCpMiSXwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIhHnfm0cVirHTam884sVu6Q1GvPkf0heq7VE+UF5bt2y97Vat+VlRniev/EVjjp12NlgdEytLWEy5G2hepDYOt7qGob2L23Dd3valPY6dsW+jvaBOKrkm2ldBVrbag+2tYeq1oX6RxYBsF6SY3vA8to8F0roRJaZmFFK2ASWA6CiT6EhuWkoQ9gablZ6l1oW47aWoF8dpvT6FrOunoD5pa7uf6CaslyV6rqD0guzYHLRK/hwJw40Cu4MUdu9Bt8C8yR4Jt+gRbmzEKvUTicFw8kY3NonOg/aJpTTf2AWWBOBTNBkvrmWF+QNDPnZoLUNOeagpKSOVdKhK550BVa5kGLOFfMCxY92ubFuYouNC9CFdyuebKrYrsyL9hcGpgnAxVaXDJPSrGKrGreVFVkU/NmykDJj1sV2Z55s0e74hwtS9k8KvNzxY8ZozvX+L67M4/uVFwT84Kt9CPz6EjFdUqgMyCjCTSHWD4cq7jOzKMzxtGu8ddwxzzaUXHFgXkTxCqwyLyJOON0j9POc/OCpbAj+hU/Zsz9Pbk2T65VbM/mybOKbd882VexjegLPXk0L154uvF/tR5N7RjJB9bvBsLEPJgI5dCcC2P5wL3QlSClJ+bYSSpIqpljh4IkpWNzapzqB3T9vCGBuGUOtWL9hDNPizMYmjND/QIloTkSJvKB4tHRK1iaE0u9hnhgDgxi/QFJZLmLEv0FvbHlbNzTG9ApWa5KHb0J9cByFNT1DhznGOngWO9CvWQ5KdX1AXweWy7Gn/Uh9CLLQdTTCkgPLLODVCshPrSMarHWgUpkGURrl2c83drWbp+0PlRebCsvFW0G+6FtLNzXxlDuXttGrrtlbQPlacvW1ppmCDPOHgJbQ/BwpmyQnh6siHVwcJoqB3iqNx/tHY/N+pPyg7Rz83Xv0n5zuff1ppPKCSS9audf1V6i9QAAAAAAAAAAAAAAAAAAAAAAEMdyAuVeZ9I4H95/uojGgf0QjKOLT/fD88ak0ysrI6SVo9qXRWgrhIsvtaNKqs2hXNlvD0LbSDho71fKWhsxvulf2NYu+jcro42d+e0isMyCxe18R2/D6HQYWY6i4elIryE9brbMgVbzONVP2G3sBeZMsNfYFf5h715302aDIADP2Lw+CIdDQhKcGuIgKKSIk1MSMND7v6zvBvqprdqY3bWfS1itRto/O+52t+KnW+2+OdSYK+5TViS9LxxqyX07p6xUeq7hXl+WPq/AX15QI+9fDryaw5d31EP7HPGqonMb5rmvYwow/upgWTDzKYQ/C2BV3o8oSNTPYVH26FEY7zGDNfnZo0DeOYclwc6jUN4ugBVxZ0HBFp0YJoxaFK41gn7ZGxWYZtDNrSOqEK0dFLscqMbhArXuIioS3UGnHw9U5uEHFCp9quOXUGfrUSFvC11cl0p1nbK+KwHs92yFYyo2DqFEsKdq+wAqhHsqtw+hQHykescY4rnvNOC7g3TPNOEZwt3QiBuINkxpRDqEZFOaMYVgTzTkCWKFGxqyCSHVkqYsIVQQ0ZQogEwJjUkgkvNpjO8g0ZzmzCHRieacIJBLaU7qIE+bBrUhz5YGbSHPmQadIc+EBk0gT48G9SDPPQ06QZ5gQ3M2AQQa0ZwRqtCExz1kClc0ZRVCqFuacguxEhqSQC53pBlHB8HyDY3Y5BDttgnoinRoQgfinZrTuxrxgeodYiiQ+1TOz6HCy4KqLV6gREHVCqjxSsVeociaaq2hyjOVeoYyXarUhTrdZs4VeaQ6j9DIdZsXEhXpU5U+1EqoSALFtlRjC9VGHlXwRlCuTKlAWkK9rEfxehkMCB8o3EMIE1yfovUdrHiKKFb0BEMuPQrVu8CU9xNFOr3DmtcFxVm8wqBsTGHGGUxya4+CeGsHqwZjijEewDAn5Rt9dOdgWzZt6kAqMm/xylpz1EI8i3hF0SxGXQxPvJrTEHXyMuVVTF9QN+WElZuUqKPiyEodC9RV+cbKvJWos0E1TbTe4wB1l89W/GSrWY4G4G4+NUHebhwEkGGYtPgpWskQAkjSXvr8x/xlGz/RKHcr/jOrXYn/1bh0Jh7/mjfpXPALjXC+O/Av7HfzEL+nERbJZME/tpgkRYg/1Mjms48Wf1PrYzbPIIBW8aDY9j/2vsef8vz9R39bDOL/2qlDIwCBGACCOMTLl4klOpP+i4MimFe7DZy7v3rcuaYqej+f3VE1K09+AgAAAAAAAAAAAAAAAAAAAAAAgBf6wsTW1jN3CAAAAABJRU5ErkJggg=="},79:function(e,t,r){"use strict";r.d(t,"b",(function(){return ze}));var n=r(3),a=r(4),c=r.n(a),s=r(10),i=r(2),o=r(0),l=r(36),d=r(1),u=r(9),j=r(27),b=r(20),x=(r(152),r(18)),m=r(7),h=r(19),p=function(e){var t=e.match.params.username,r=Object(u.d)((function(e){return{target:e.chats.items.find((function(e){return e.username===t})),user:e.auth}})),n=r.target,a=r.user;return n?Object(o.jsx)("div",{className:"relative w-full h-screen pt-14",children:Object(o.jsx)(x.b,{user:a,target:n})}):Object(o.jsx)(g,{})},f=r(13),O=r(12),g=function(){return Object(O.b)("Page Not Found"),Object(o.jsxs)("div",{className:"p-4 laptop:p-20 pt-40 h-screen flex items-start laptop:justify-center flex-col",children:[Object(o.jsx)("h1",{className:"text-xl mb-2 laptop:text-4xl dark:text-white",children:"Uh oh, you seemed lost."}),Object(o.jsx)("p",{className:"dark:text-gray-400",children:"The page you're trying to visit doesn't exist."}),Object(o.jsx)("br",{}),Object(o.jsx)(f.a,{className:"button inline-flex",to:"/",children:"Go to News Feed"})]})},v=r(247),y=r(248),w=r(30),k=r(223),N=r(222),C=r(67),S=r(32),E=r(28),P=r(137),A=r(217),L=function(e){var t=e.username,r=e.profilePicture;return Object(o.jsxs)("ul",{className:"overflow-hidden",children:[Object(o.jsx)("li",{className:"px-4 py-3 cursor-pointer hover:bg-indigo-100 dark:hover:bg-indigo-900",children:Object(o.jsxs)(f.a,{to:"/user/".concat(t),className:"flex items-center text-black",children:[Object(o.jsx)(m.a,{url:r,className:"mr-4"}),Object(o.jsx)("h6",{className:"text-sm dark:text-white",children:"My Profile"})]})}),Object(o.jsx)("li",{className:"px-4 py-3 cursor-pointer mt-4 hover:bg-indigo-100  dark:hover:bg-indigo-900",children:Object(o.jsxs)(f.a,{to:"/user/".concat(t,"/following"),className:"flex items-center text-black",children:[Object(o.jsx)(P.a,{className:"text-indigo-700 dark:text-indigo-400",style:{fontSize:"30px",marginRight:"25px"}}),Object(o.jsx)("h6",{className:"text-sm dark:text-white",children:"Following"})]})}),Object(o.jsx)("li",{className:"px-4 py-3 cursor-pointer mt-4 hover:bg-indigo-100  dark:hover:bg-indigo-900",children:Object(o.jsxs)(f.a,{to:"/user/".concat(t,"/followers"),className:"flex items-center text-black",children:[Object(o.jsx)(P.a,{className:"text-indigo-700 dark:text-indigo-400",style:{fontSize:"30px",marginRight:"25px"}}),Object(o.jsx)("h6",{className:"text-sm dark:text-white",children:"Followers"})]})}),Object(o.jsx)("li",{className:"px-4 py-3 cursor-pointer mt-4 hover:bg-indigo-100  dark:hover:bg-indigo-900",children:Object(o.jsxs)(f.a,{to:"/user/".concat(t,"/bookmarks"),className:"flex items-center text-black",children:[Object(o.jsx)(A.a,{className:"text-indigo-700 dark:text-indigo-400",style:{fontSize:"30px",marginRight:"25px"}}),Object(o.jsx)("h6",{className:"text-sm dark:text-white",children:"Bookmarks"})]})})]})},T=Object(C.a)((function(e){var t,r,n,a,c,s,i=Object(u.d)((function(e){return{newsFeed:e.newsFeed,auth:e.auth,error:e.error.newsFeedError,isLoadingFeed:e.loading.isLoadingFeed,isLoadingCreatePost:e.loading.isLoadingCreatePost}}),u.b),l=Object(u.c)(),j=Object(O.d)(),b=j.isOpen,p=j.openModal,g=j.closeModal,C=(null===(t=e.location.state)||void 0===t?void 0:t.from)||null;Object(O.b)("Foodie | Social Network"),Object(d.useEffect)((function(){console.log("TRIGGER",C),0!==i.newsFeed.items.length&&"/"!==C||(l(Object(S.a)()),l(Object(S.e)({offset:0}))),E.a.on("newFeed",(function(){l(Object(S.g)())}))}),[]);var P=function(e,t,r){l(Object(S.i)(e,t,r))},A=Object(w.a)({loading:i.isLoadingFeed,hasNextPage:!i.error&&i.newsFeed.offset>0,onLoadMore:function(){l(Object(S.e)({offset:i.newsFeed.offset}))},scrollContainer:"window"});return Object(o.jsxs)("div",{className:"laptop:px-6% pt-20 flex items-start",children:[Object(o.jsx)("div",{className:"hidden laptop:block laptop:w-1/4 laptop:rounded-md bg-white laptop:sticky laptop:top-20 mr-4 laptop:shadow-lg divide-y-2 dark:bg-indigo-1000",children:e.isAuth&&Object(o.jsx)(L,{username:i.auth.username,profilePicture:null===(r=i.auth.profilePicture)||void 0===r?void 0:r.url})}),Object(o.jsxs)("div",{className:"w-full laptop:w-2/4 relative",children:[e.isAuth&&Object(o.jsxs)("div",{className:"flex items-center justify-start mb-4 px-4 laptop:px-0",children:[Object(o.jsx)(m.a,{url:null===(n=i.auth.profilePicture)||void 0===n?void 0:n.url,className:"mr-2"}),Object(o.jsx)("div",{className:"flex-grow",children:Object(o.jsx)("input",{className:"dark:bg-indigo-1000 dark:!border-gray-800 dark:text-white",type:"text",placeholder:"Create a post.",onClick:function(){return!i.isLoadingCreatePost&&!i.isLoadingFeed&&p()},readOnly:i.isLoadingFeed||i.isLoadingCreatePost})})]}),i.newsFeed.hasNewFeed&&Object(o.jsxs)("button",{className:"sticky mt-2 top-16 left-0 right-0 mx-auto z-20 flex items-center",onClick:function(){l(Object(S.a)()),l(Object(S.e)({offset:0})),l(Object(S.g)(!1))},children:[Object(o.jsx)(v.a,{className:"flex items-center justify-center text-xl mr-4"}),"New Feed Available"]}),e.isAuth&&b&&Object(o.jsx)(x.e,{isOpen:b,openModal:p,closeModal:g,dispatchCreatePost:function(e){l(Object(S.b)(e))}}),i.error&&0===i.newsFeed.items.length&&!i.isLoadingCreatePost&&Object(o.jsx)("div",{className:"flex flex-col w-full min-h-24rem px-8 items-center justify-center text-center",children:404===i.error.status_code?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(y.a,{className:"text-8xl text-gray-300 mb-4 dark:text-gray-800"}),Object(o.jsx)("h5",{className:"text-gray-500",children:"News feed is empty"}),Object(o.jsx)("p",{className:"text-gray-400",children:"Start following people or create your first post."}),Object(o.jsx)("br",{}),Object(o.jsx)(f.a,{className:"underline dark:text-indigo-400",to:h.n,children:"See Suggested People"})]}):Object(o.jsx)("h5",{className:"text-gray-500 italic",children:(null===(a=i.error)||void 0===a||null===(c=a.error)||void 0===c?void 0:c.message)||"Something went wrong :("})}),i.isLoadingFeed&&0===i.newsFeed.items.length&&Object(o.jsxs)("div",{className:"mt-4 px-2 overflow-hidden space-y-6 pb-10",children:[Object(o.jsx)(m.g,{}),Object(o.jsx)(m.g,{})]}),i.isLoadingCreatePost&&Object(o.jsx)("div",{className:"mt-4 px-2 overflow-hidden pb-10",children:Object(o.jsx)(m.g,{})}),!e.isAuth&&!i.isLoadingFeed&&Object(o.jsx)("div",{className:"px-4 laptop:px-0 py-4 mb-4",children:Object(o.jsxs)("h2",{className:"dark:text-white",children:["Public posts that might ",Object(o.jsx)("br",{}),"interest you."]})}),0!==i.newsFeed.items.length&&Object(o.jsxs)("div",{className:"mb-8",children:[Object(o.jsx)(k.a,{component:null,children:Object(o.jsx)("div",{ref:A,children:i.newsFeed.items.map((function(e){return e.author&&Object(o.jsx)(N.a,{timeout:500,classNames:"fade",children:Object(o.jsx)(x.m,{post:e,likeCallback:P},e.id)},e.id)}))})}),i.isLoadingFeed&&Object(o.jsx)("div",{className:"flex justify-center py-6",children:Object(o.jsx)(m.e,{})}),i.error&&Object(o.jsx)("div",{className:"flex justify-center py-6",children:Object(o.jsx)("p",{className:"text-gray-400 italic",children:(null===(s=i.error.error)||void 0===s?void 0:s.message)||"Something went wrong."})})]})]}),Object(o.jsx)("div",{className:"hidden laptop:block laptop:w-1/4 laptop:sticky laptop:top-20 ml-4",children:e.isAuth&&Object(o.jsx)(x.p,{})}),Object(o.jsx)(x.n,{deleteSuccessCallback:function(e){l(Object(S.d)(e))},updateSuccessCallback:function(e){l(Object(S.h)(e))}})]})})),F=r(249),M=r(250),D=r(251),_=r.p+"static/media/friends_meal.d706cb83.jpg",R=r.p+"static/media/logo-white.65ef8154.svg",I=r(44),U=r(33),G=r(41),z=function(){var e,t=Object(d.useState)(""),r=Object(i.a)(t,2),n=r[0],a=r[1],l=Object(d.useState)(""),j=Object(i.a)(l,2),b=j[0],x=j[1],m=Object(d.useState)(!1),p=Object(i.a)(m,2),g=p[0],v=p[1],y=Object(u.c)();Object(O.b)("Login to Foodie"),Object(d.useEffect)((function(){return function(){y(Object(G.a)(null))}}),[]);var w=Object(u.d)((function(e){return{error:e.error.authError,isLoading:e.loading.isLoadingAuth}})),k=w.error,N=w.isLoading,C=function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n&&b&&y(Object(U.a)(n,b));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)("div",{className:"min-h-screen flex bg-white",children:[Object(o.jsxs)("div",{className:"relative laptop:w-7/12 h-screen laptop:p-8 hidden laptop:justify-start laptop:items-end laptop:!bg-cover laptop:!bg-no-repeat laptop:!bg-center laptop:flex",style:{background:"#f7f7f7 url(".concat(_,")")},children:[Object(o.jsx)(f.a,{className:"absolute left-8 top-8",to:"/",children:Object(o.jsx)("img",{src:R,alt:"Foodie Logo",className:"w-24"})}),Object(o.jsx)("h3",{className:"animate-fade text-white w-9/12 mb-14",children:"Looking for a new idea for your next menu? You're in the right place."}),Object(o.jsx)("a",{className:"animate-fade absolute bottom-8 left-8 text-1xs text-white underline",target:"_blank",rel:"noreferrer",href:"https://infinityrimapts.com/5-reasons-host-dinner-party/friends-enjoying-a-meal/",children:"Photo: Credits to the photo owner"})]}),Object(o.jsxs)("div",{className:"animate-fade laptop:w-5/12 w-full flex items-center flex-col justify-center pt-8 laptop:pt-0 relative",children:[Object(o.jsx)(f.a,{to:"/",children:Object(o.jsx)("img",{src:I.a,alt:"Foodie Logo",className:"w-24 relative mx-auto laptop:hidden"})}),k&&Object(o.jsx)("div",{className:"py-2 w-full text-center bg-red-100 border-red-300 absolute top-0 left-0",children:Object(o.jsx)("p",{className:"text-red-500",children:(null===k||void 0===k||null===(e=k.error)||void 0===e?void 0:e.message)||"Something went wrong :("})}),Object(o.jsxs)("div",{className:"w-full laptop:px-14 px-8 text-center laptop:text-left",children:[Object(o.jsx)("div",{children:Object(o.jsx)("h2",{className:"mt-6 text-xl laptop:text-2xl font-extrabold text-gray-900",children:"Login to Foodie"})}),Object(o.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:C,children:[Object(o.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[Object(o.jsxs)("div",{className:"mb-2",children:[Object(o.jsx)("label",{htmlFor:"username",className:"sr-only",children:"Username"}),Object(o.jsx)("input",{id:"username",name:"username",type:"text",autoComplete:"username",value:n,required:!0,maxLength:30,className:"text-center ".concat(k?"input--error":""," laptop:text-left"),placeholder:"Username",readOnly:N,onChange:function(e){var t=e.target.value.trim();a(t)}})]}),Object(o.jsxs)("div",{className:"relative",children:[Object(o.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),Object(o.jsx)("input",{id:"password",name:"password",type:g?"text":"password",autoComplete:"current-password",required:!0,className:"text-center !pr-12 ".concat(k?"input--error":""," laptop:text-left"),placeholder:"Password",minLength:8,maxLength:100,onChange:function(e){var t=e.target.value;x(t)},readOnly:N,value:b}),Object(o.jsx)("div",{className:"absolute right-0 top-0 bottom-0 my-auto flex items-center justify-center w-12 h-12 hover:bg-gray-200 cursor-pointer rounded-tr-full rounded-br-full z-10",children:g?Object(o.jsx)(F.a,{className:"h-full w-full outline-none text-gray-500",onClick:function(){return v(!1)}}):Object(o.jsx)(M.a,{className:"h-full w-full outline-none",onClick:function(){return v(!0)}})})]})]}),Object(o.jsx)(f.a,{className:"font-medium text-sm text-gray-400 inline-block laptop:block my-4  laptop:mb-0 hover:text-indigo-500 underline laptop:w-2/4 laptop:pl-4",to:"/forgot-password",children:"Forgot your password?"}),Object(o.jsxs)("button",{type:"submit",className:"button--stretch",disabled:N,children:[Object(o.jsx)(D.a,{className:"absolute left-8 top-0 bottom-0 my-auto"}),N?"Logging In...":"Login"]}),Object(o.jsx)("i",{className:"social-login-divider",children:"OR"})]}),Object(o.jsx)("div",{className:"text-center mt-8",children:Object(o.jsx)(f.a,{className:"underline font-medium",onClick:function(e){return N&&e.preventDefault()},to:h.k,children:"I dont have an account"})}),Object(o.jsxs)("span",{className:"text-gray-400 text-xs mx-auto text-center block mt-4",children:["\xa9Copyright ",(new Date).getFullYear()," Foodie"]})]})]})]})},B=r(11),q=function(e){var t,r=e.history,a=e.match,l=Object(d.useState)(null),u=Object(i.a)(l,2),j=u[0],b=u[1],h=Object(d.useState)(!1),p=Object(i.a)(h,2),f=p[0],v=p[1],y=Object(d.useState)(null),w=Object(i.a)(y,2),k=w[0],N=w[1],C=a.params.post_id;Object(O.b)("".concat(null===j||void 0===j?void 0:j.description," - Foodie")||!1),Object(d.useEffect)((function(){S()}),[]);var S=function(){var e=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,Object(B.r)(C);case 4:t=e.sent,console.log(t),v(!1),b(t),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),v(!1),N(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(o.jsxs)(o.Fragment,{children:[f&&!k&&Object(o.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:Object(o.jsx)(m.e,{})}),!f&&!k&&j&&Object(o.jsx)("div",{className:"pt-20 w-full px-4 laptop:w-2/4 m-auto",children:Object(o.jsx)(x.m,{post:j,likeCallback:function(e,t,r){b(Object(n.a)(Object(n.a)({},j),{},{isLiked:t,likesCount:r}))}})}),!f&&k&&Object(o.jsx)(o.Fragment,{children:404===k.status_code?Object(o.jsx)(g,{}):Object(o.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:Object(o.jsx)("h4",{className:"text-xl italic dark:text-white",children:(null===k||void 0===k||null===(t=k.error)||void 0===t?void 0:t.message)||"Something went wrong :("})})}),Object(o.jsx)(x.n,{deleteSuccessCallback:function(){r.push("/")},updateSuccessCallback:function(e){b(Object(n.a)(Object(n.a)({},j),e))}})]})},H=r(51),K=r(252),Y=r(239),V=r(220),W=r(78),J=r(35),Q=r(69),X=r(74),Z=function(e){return Object(o.jsxs)("div",{className:"w-full h-full laptop:bg-black laptop:bg-opacity-50 absolute flex items-center justify-center laptop:invisible transition-all ".concat(e.coverPhoto.imageFile.file?"z-10":"z-0"),ref:e.coverPhotoOverlayRef,children:[Object(o.jsx)("input",{type:"file",hidden:!0,accept:"image/*",onChange:e.coverPhoto.onFileChange,readOnly:e.isUploadingCoverPhoto,id:"cover"}),e.isOwnProfile&&Object(o.jsx)(o.Fragment,{children:e.isUploadingCoverPhoto?Object(o.jsx)(X.a,{mode:"light"}):Object(o.jsx)(o.Fragment,{children:e.coverPhoto.imageFile.file?Object(o.jsxs)("div",{className:"flex",children:[Object(o.jsx)("button",{className:"button--danger !rounded-full",onClick:e.coverPhoto.clearFiles,children:Object(o.jsx)(Q.a,{className:"text-xl text-white"})}),"\xa0",Object(o.jsx)("label",{className:"button--muted !rounded-full cursor-pointer",htmlFor:"cover",children:"Change"}),"\xa0",Object(o.jsx)("button",{onClick:e.handleSaveCoverPhoto,children:"Save"})]}):Object(o.jsx)("label",{className:"p-3 laptop:p-4 bg-indigo-700 absolute right-4 top-4  laptop:relative text-white font-medium rounded-full cursor-pointer hover:bg-indigo-800",htmlFor:"cover",children:window.screen.width>800?"Change Cover Photo":Object(o.jsx)(K.a,{className:"text-xl text-white"})})})})]})},$=r(240),ee=r(253),te=r(237),re="\n    text-sm laptop:text-lg font-medium text-gray-500 hover:bg-gray-200 \n    hover:text-gray-800 rounded-t-md cursor-pointer px-2 laptop:px-4 py-2\n    border-b-4 border-transparent hover:border-indigo-400 dark:hover:bg-indigo-1000 \n    flex justify-center items-center space-x-2 dark:hover:text-white\n",ne=function(e){var t=e.username,r=e.isOwnProfile,n=e.followersCount,a=e.followingCount,c=Object(j.h)().pathname,s=Object(d.useState)(""),l=Object(i.a)(s,2),u=l[0],b=l[1];return Object(d.useEffect)((function(){var e=c.split("/"),t=e[e.length-1];b(t)}),[c]),Object(o.jsxs)("ul",{className:"flex items-center justify-between tablet:justify-evenly flex-wrap laptop:justify-start space-x-1 laptop:space-x-4 px-4 bg-indigo-100 dark:bg-indigo-1000 laptop:dark:bg-transparent laptop:bg-transparent laptop:p-0",children:[Object(o.jsx)("li",{children:Object(o.jsxs)(f.a,{to:"/user/".concat(t,"/"),className:"".concat(re," ").concat((u===t||""===u)&&"border-indigo-700 dark:border-indigo-400  border-b-4 text-gray-800 dark:text-white "),children:[Object(o.jsx)("span",{className:"hidden laptop:inline-block",children:"Posts"}),Object(o.jsx)($.a,{className:"laptop:hidden text-2xl"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(f.a,{to:"/user/".concat(t,"/info"),className:"".concat(re," ").concat("info"===u&&"border-indigo-700 dark:border-indigo-400  border-b-4"),children:[Object(o.jsx)("span",{className:"hidden laptop:inline-block",children:"Info"}),Object(o.jsx)(ee.a,{className:"laptop:hidden text-2xl"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(f.a,{to:"/user/".concat(t,"/followers"),className:"".concat(re," ").concat("followers"===u&&"border-indigo-700 dark:border-indigo-400 border-b-4"),children:[Object(o.jsx)("span",{className:"laptop:text-lg text-indigo-700 dark:text-indigo-400",children:n}),Object(o.jsx)("span",{className:"hidden laptop:inline-block",children:n>1?"Followers":"Follower"}),Object(o.jsx)(P.a,{className:"laptop:hidden text-2xl"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(f.a,{to:"/user/".concat(t,"/following"),className:"".concat(re," ").concat("following"===u&&"border-indigo-700 dark:border-indigo-400 border-b-4"),children:[Object(o.jsx)("span",{className:"laptop:text-lg text-indigo-700 dark:text-indigo-400",children:a}),Object(o.jsx)("span",{className:"hidden laptop:inline-block",children:"Following"}),Object(o.jsx)(te.a,{className:"laptop:hidden text-2xl"})]})}),r&&Object(o.jsx)("li",{children:Object(o.jsxs)(f.a,{to:"/user/".concat(t,"/bookmarks"),className:"".concat(re," ").concat("bookmarks"===u&&"border-indigo-700 dark:border-indigo-400 border-b-4"),children:[Object(o.jsx)("span",{className:"hidden laptop:inline-block",children:"Bookmarks"}),Object(o.jsx)(A.a,{className:"laptop:hidden text-2xl"})]})})]})},ae={id:"",file:null,url:""},ce=function(e){var t,r,n=e.profile,a=e.auth,l=Object(d.useState)(!1),h=Object(i.a)(l,2),p=h[0],f=h[1],g=Object(d.useState)(!1),v=Object(i.a)(g,2),y=v[0],w=v[1],k=Object(j.g)(),N=Object(O.d)(),C=N.isOpen,S=N.openModal,E=N.closeModal,P=Object(u.c)(),A=Object(d.useRef)(null),L=Object(d.useRef)(null),T=Object(O.c)("single",ae),F=Object(O.c)("single",ae);Object(d.useEffect)((function(){var e=L.current,t=A.current;return e&&t&&n.isOwnProfile&&window.screen.width>800&&(e.addEventListener("mouseover",M),e.addEventListener("mouseout",D)),function(){e&&t&&(e.removeEventListener("mouseover",M),e.removeEventListener("mouseout",D))}}),[T.imageFile.file,y,n.isOwnProfile]);var M=function(){!y&&A.current&&(A.current.style.visibility="visible")},D=function(){y||T.imageFile.file||!A.current||(A.current.style.visibility="hidden")},_=function(){var e=Object(s.a)(c.a.mark((function e(t){var r,n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("photo",t),e.prev=2,f(!0),Object(b.c)("Uploading...",{hideProgressBar:!0,bodyStyle:{color:"#1a1a1a"}}),e.next=7,Object(B.M)(r,"picture");case 7:n=e.sent,a=n.image,P(Object(H.e)(a)),P(Object(U.g)(a)),f(!1),b.c.dismiss(),b.c.dark("Profile picture successfully changed.",{hideProgressBar:!0}),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(2),console.log(e.t0),f(!1),b.c.error(e.t0.error.message);case 21:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(s.a)(c.a.mark((function e(){var t,r,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!T.imageFile.file){e.next=22;break}return(t=new FormData).append("photo",T.imageFile.file),e.prev=3,w(!0),Object(b.c)("Uploading Cover Photo...",{hideProgressBar:!0,bodyStyle:{color:"#1a1a1a"}}),e.next=8,Object(B.M)(t,"cover");case 8:r=e.sent,n=r.image,P(Object(H.c)(n)),w(!1),T.clearFiles(),b.c.dismiss(),b.c.dark("Cover photo successfully changed.",{hideProgressBar:!0}),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(3),console.log(e.t0),w(!1),b.c.error(e.t0.error.message);case 22:case"end":return e.stop()}}),e,null,[[3,17]])})));return function(){return e.apply(this,arguments)}}();return Object(o.jsxs)("div",{children:[Object(o.jsx)(x.f,{isOpen:C,closeModal:E,openModal:S,file:F.imageFile,onCropSuccessCallback:_}),Object(o.jsxs)("div",{className:"w-full h-60 mb-8 laptop:mb-0 laptop:h-80 bg-gray-200 dark:bg-gray-800 relative overflow-hidden",ref:L,children:[Object(o.jsx)(Z,{coverPhotoOverlayRef:A,coverPhoto:T,isUploadingCoverPhoto:y,isOwnProfile:n.isOwnProfile,handleSaveCoverPhoto:R}),Object(o.jsx)("img",{alt:"",className:"w-full h-full object-cover",src:T.imageFile.url||(null===(t=n.coverPhoto)||void 0===t?void 0:t.url)||"https://source.unsplash.com/oDhGIbegZNI/1400x900"})]}),Object(o.jsxs)("div",{className:"laptop:px-6% w-full relative flex mt-2 laptop:transform laptop:-translate-y-2/4",children:[Object(o.jsx)("div",{className:"absolute left-0 right-0 mx-auto w-40 h-40 transform -translate-y-44 laptop:transform-none laptop:relative laptop:w-1/3 laptop:h-60 laptop:mr-2 flex justify-center",children:!T.imageFile.file&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"w-full h-full laptop:w-60 laptop:h-60 !bg-cover !bg-no-repeat rounded-full border-4 border-white dark:border-indigo-1000 overflow-hidden",style:{background:"#f7f7f7 url(".concat((null===(r=n.profilePicture)||void 0===r?void 0:r.url)||W.a,")")},children:p&&Object(o.jsx)("div",{className:"w-full h-full bg-black bg-opacity-50 flex items-center justify-center",children:Object(o.jsx)(m.e,{mode:"light"})})}),n.isOwnProfile&&Object(o.jsxs)("div",{children:[Object(o.jsx)("input",{type:"file",hidden:!0,accept:"image/*",onChange:function(e){F.onFileChange(e,(function(){S()}))},readOnly:p,id:"picture"}),Object(o.jsx)("label",{htmlFor:"picture",children:Object(o.jsx)("div",{className:"flex items-center w-10 h-10 justify-center cursor-pointer p-4 bg-indigo-700 rounded-full absolute -bottom-2 laptop:bottom-0 left-14 hover:bg-indigo-800",children:Object(o.jsx)(K.a,{className:"text-xl flex items-center justify-center text-white"})})})]})]})}),Object(o.jsxs)("div",{className:"flex w-full  flex-col self-end",children:[Object(o.jsxs)("div",{className:"px-4 laptop:px-0 w-full flex items-center flex-col laptop:flex-row justify-between mb-2 laptop:ml-2 laptop:mr-14",children:[Object(o.jsxs)("div",{className:"text-center laptop:text-left mb-4 laptop:mb-0",children:[Object(o.jsx)("h2",{className:"text-3xl dark:text-white",children:n.fullname||"@".concat(n.username)}),Object(o.jsx)("span",{className:"text-indigo-700 dark:text-indigo-400",children:n.fullname&&"@".concat(n.username)})]}),n.isOwnProfile?Object(o.jsxs)("button",{className:"button--muted !rounded-full !border !border-gray-400 !focus:bg-gray-200 !py-2 flex items-center justify-center dark:bg-indigo-1100 dark:text-white dark:hover:text-white dark:hover:bg-indigo-900 dark:!border-gray-800",onClick:function(){return k.push("/user/".concat(n.username,"/edit"))},children:[Object(o.jsx)(V.a,{className:"text-xl mr-4"}),"Edit Profile"]}):Object(o.jsxs)("div",{className:"flex justify-center laptop:justify-start space-x-4 items-start",children:[Object(o.jsx)(x.g,{isFollowing:n.isFollowing,userID:n.id}),Object(o.jsxs)("button",{className:"button--muted !border-gray-400 !rounded-full flex items-center dark:bg-indigo-1100 dark:text-white dark:hover:text-white dark:hover:bg-indigo-900 dark:!border-gray-800",onClick:function(){var e;P(Object(J.d)({username:n.username,id:n.id,fullname:n.fullname||"",profilePicture:(null===(e=n.profilePicture)||void 0===e?void 0:e.url)||""})),window.screen.width<1024&&k.push("/chat/".concat(n.username))},children:[Object(o.jsx)(Y.a,{className:"flex items-center justify-center mr-2"}),"Message"]})]})]}),Object(o.jsx)(ne,{username:n.username,isOwnProfile:n.id===a.id,followersCount:n.followersCount,followingCount:n.followingCount})]})]})]})},se=r(24),ie=r.n(se),oe=function(e){var t=e.bio,r=e.dateJoined;return Object(o.jsxs)("aside",{className:"p-4 bg-white dark:bg-indigo-1000 shadow-lg rounded-md space-y-4",children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("h4",{className:"mb-2 dark:text-white",children:"Bio"}),t?Object(o.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:t}):Object(o.jsx)("p",{className:"text-gray-400 italic",children:"No bio set."})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("h4",{className:"mb-2 dark:text-white",children:"Joined"}),Object(o.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:ie()(r).format("MMM.DD, YYYY")})]})]})},le=r(224),de=r(233),ue=r(39),je=r.n(ue),be=r.p+"static/media/thumbnail.0a63f821.jpg";ie.a.extend(je.a);var xe=function(e){var t,r=e.username,n=e.isOwnProfile,a=Object(d.useState)([]),l=Object(i.a)(a,2),u=l[0],b=l[1],h=Object(d.useState)(!1),p=Object(i.a)(h,2),g=p[0],v=p[1],y=Object(d.useState)(null),C=Object(i.a)(y,2),S=C[0],E=C[1],P=Object(d.useState)(0),L=Object(i.a)(P,2),T=L[0],F=L[1],M=Object(O.a)(!0);Object(O.b)("Bookmarks - ".concat(r," | Foodie")),Object(d.useEffect)((function(){D()}),[]);var D=function(){var e=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,Object(B.h)({offset:T});case 4:t=e.sent,M&&(b(t),F(T+1),v(!1)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),M&&(v(!1),E(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),_=Object(w.a)({loading:g,hasNextPage:!S&&u.length>=10,onLoadMore:D,scrollContainer:"window",threshold:200});return!n&&r?Object(o.jsx)(j.a,{to:"/user/".concat(r)}):Object(o.jsxs)("div",{className:"flex flex-col items-start justify-start w-full min-h-10rem",children:[g&&0===u.length&&Object(o.jsx)("div",{className:"flex w-full items-center justify-center min-h-10rem",children:Object(o.jsx)(m.e,{})}),0===u.length&&S&&!g&&Object(o.jsx)("div",{className:"w-full p-4 flex min-h-10rem items-center justify-center",children:Object(o.jsx)("span",{className:"text-gray-400 text-lg italic",children:(null===S||void 0===S||null===(t=S.error)||void 0===t?void 0:t.message)||"Something went wrong :("})}),0!==u.length&&!S&&Object(o.jsxs)("div",{className:"w-full space-y-4",ref:_,children:[Object(o.jsx)("h4",{className:"text-gray-700 dark:text-white mb-4 ml-4 mt-4 laptop:mt-0",children:"Bookmarks"}),Object(o.jsx)(k.a,{component:null,children:u.map((function(e){var t;return Object(o.jsx)(N.a,{timeout:500,classNames:"fade",children:Object(o.jsxs)("div",{className:"h-24 flex justify-between bg-white dark:bg-indigo-1000 rounded-md shadow-lg overflow-hidden",children:[Object(o.jsx)("div",{className:"flex justify-center items-center",children:Object(o.jsx)(x.a,{postID:e.post.id,initBookmarkState:e.isBookmarked,children:function(e){var t=e.dispatchBookmark,r=e.isBookmarked,n=e.isLoading;return Object(o.jsx)("h4",{className:"p-4 flex items-center cursor-pointer",onClick:t,children:n?Object(o.jsx)(le.a,{className:"text-gray-600 text-2xl p-2 dark:text-white"}):r?Object(o.jsx)(de.a,{className:"text-red-600 text-2xl p-2 rounded-full hover:bg-red-100"}):Object(o.jsx)(A.a,{className:"text-red-600 text-2xl p-2 rounded-full hover:bg-red-100"})})}})}),Object(o.jsxs)(f.a,{className:"flex flex-grow justify-between hover:bg-indigo-100 border border-transparent dark:hover:bg-indigo-1000 dark:hover:border-gray-800",to:"/post/".concat(e.post.id),children:[Object(o.jsxs)("div",{className:"flex-grow p-2 pb-4 max-w-sm",children:[Object(o.jsx)("h4",{className:"break-all overflow-hidden overflow-ellipsis h-8 laptop:h-12 dark:text-indigo-400",children:e.post.description}),Object(o.jsxs)("span",{className:"text-xs text-gray-400 self-end",children:["Bookmarked ",ie()(e.createdAt).fromNow()]})]}),Object(o.jsx)("div",{className:"w-32 h-full !bg-cover !bg-no-repeat !bg-center",style:{background:"#f7f7f7 url(".concat((null===(t=e.post.photos[0])||void 0===t?void 0:t.url)||be,")")}})]},e.id)]},e.id)},e.id)}))}),0!==u.length&&!S&&g&&Object(o.jsx)("div",{className:"flex justify-center py-6",children:Object(o.jsx)(m.e,{})})]})]})},me=r(214),he=r(254),pe=function(e){var t,r,a,l,x,m=e.isOwnProfile,h=e.profile,p=Object(d.useState)(!1),f=Object(i.a)(p,2),g=f[0],v=f[1],y=Object(d.useState)({firstname:(null===h||void 0===h?void 0:h.firstname)||"",lastname:(null===h||void 0===h?void 0:h.lastname)||"",gender:(null===h||void 0===h||null===(t=h.info)||void 0===t?void 0:t.gender)||"",bio:(null===h||void 0===h||null===(r=h.info)||void 0===r?void 0:r.bio)||"",birthday:(null===h||void 0===h||null===(a=h.info)||void 0===a?void 0:a.birthday)||""}),w=Object(i.a)(y,2),k=w[0],N=w[1],C=Object(d.useState)(200-(null===h||void 0===h||null===(l=h.info)||void 0===l||null===(x=l.bio)||void 0===x?void 0:x.length)||0),S=Object(i.a)(C,2),E=S[0],P=S[1],A=Object(j.g)(),L=Object(u.c)(),T=Object(O.a)();Object(O.b)("Edit Info - ".concat(h.username," | Foodie")),Object(d.useEffect)((function(){var e;N({firstname:h.firstname,lastname:h.lastname,gender:h.info.gender,bio:(null===(e=h.info)||void 0===e?void 0:e.bio)||"",birthday:h.info.birthday})}),[h]);var F=function(){var e=Object(s.a)(c.a.mark((function e(){var t,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,Object(B.L)(h.username,k);case 4:t=e.sent,L(Object(H.d)(t)),T&&(v(!1),A.push("/user/".concat(h.username,"/info")),b.c.dark("Profile updated successfully.")),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),T&&v(!1),b.c.dismiss(),b.c.error((null===(r=e.t0.error)||void 0===r?void 0:r.message)||"Unable to process your request.");case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),M=function(e){var t=e.nativeEvent.key;/[a-zA-Z\s]/gi.test(t)||e.preventDefault()};return!m&&h.username?Object(o.jsx)(j.a,{to:"/user/".concat(h.username)}):Object(o.jsxs)("div",{className:"p-4 pb-8 bg-white dark:bg-indigo-1000 rounded-md min-h-10rem shadow-lg",children:[Object(o.jsx)("h3",{className:"text-gray-500 dark:text-white",children:"Edit Info"}),Object(o.jsxs)("form",{className:"mt-8 space-y-4 divide-y divide-gray-100 dark:divide-gray-800",onSubmit:function(e){e.preventDefault(),F()},children:[Object(o.jsxs)("div",{className:"flex flex-col py-2",children:[Object(o.jsx)("label",{htmlFor:"firstname",className:"ml-4 text-gray-400 mb-2",children:"First Name"}),Object(o.jsx)("input",{className:"dark:bg-indigo-1100 dark:text-white dark:border-gray-800",readOnly:g,id:"firstname",type:"text",maxLength:50,onChange:function(e){N(Object(n.a)(Object(n.a)({},k),{},{firstname:e.target.value}))},onKeyDown:M,value:k.firstname})]}),Object(o.jsxs)("div",{className:"flex flex-col py-2",children:[Object(o.jsx)("label",{htmlFor:"lastname",className:"ml-4 text-gray-400 mb-2",children:"Last Name"}),Object(o.jsx)("input",{className:"dark:bg-indigo-1100 dark:text-white dark:border-gray-800",readOnly:g,id:"lastname",type:"text",maxLength:50,onChange:function(e){N(Object(n.a)(Object(n.a)({},k),{},{lastname:e.target.value}))},onKeyDown:M,value:k.lastname})]}),Object(o.jsxs)("div",{className:"grid laptop:grid-cols-2",children:[Object(o.jsxs)("div",{className:"flex flex-col py-2",children:[Object(o.jsx)("label",{htmlFor:"gender",className:"ml-4 text-gray-400 mb-2",children:"Gender"}),Object(o.jsxs)("select",{className:"dark:bg-indigo-1100 dark:text-white dark:border-gray-800",id:"gender",onChange:function(e){N(Object(n.a)(Object(n.a)({},k),{},{gender:e.target.value}))},disabled:g,value:null===k.gender?"":k.gender,children:[Object(o.jsx)("option",{disabled:!0,value:"",children:"Select Gender"}),Object(o.jsx)("option",{value:"male",children:"Male"}),Object(o.jsx)("option",{value:"female",children:"Female"}),Object(o.jsx)("option",{value:"unspecified",children:"Better Not Say"})]})]}),Object(o.jsxs)("div",{className:"flex flex-col py-2",children:[Object(o.jsx)("label",{htmlFor:"birthday",className:"ml-4 text-gray-400 mb-2",children:"Birthday (mm/dd/yyyy)"}),Object(o.jsx)("input",{className:"dark:bg-indigo-1100 dark:text-white dark:border-gray-800",readOnly:g,type:"date",value:k.birthday?new Date(k.birthday).toISOString().split("T")[0]:"",onChange:function(e){N(Object(n.a)(Object(n.a)({},k),{},{birthday:e.target.value}))}})]})]}),Object(o.jsxs)("div",{className:"flex flex-col py-2",children:[Object(o.jsx)("label",{htmlFor:"bio",className:"ml-4 text-gray-400 mb-2",children:"Bio"}),Object(o.jsx)("textarea",{placeholder:"Tell something about yourself",id:"bio",cols:10,rows:4,className:"dark:bg-indigo-1100 dark:text-white dark:border-gray-800",readOnly:g,onChange:function(e){var t=e.target.value;N(Object(n.a)(Object(n.a)({},k),{},{bio:t})),P(200-t.length)},maxLength:200,value:k.bio}),Object(o.jsxs)("span",{className:"text-xs text-gray-400 block text-right",children:[E," ",E<=1?"character":"characters"," left"]})]}),Object(o.jsxs)("div",{className:"flex justify-between pt-8",children:[Object(o.jsxs)("button",{disabled:g,type:"button",onClick:function(){A.push("/user/".concat(h.username,"/info"))},className:"button--muted !rounded-full dark:bg-indigo-1100 dark:text-white dark:hover:bg-indigo-1100",children:[Object(o.jsx)(me.a,{className:"text-xl mr-4"}),"Back to Info"]}),Object(o.jsxs)("button",{className:"flex items-center",type:"submit",disabled:g,children:[Object(o.jsx)(he.a,{className:"text-xl mr-4"}),g?"Updating...":"Update"]})]})]})]})},fe=r(17),Oe=function(e){var t,r=e.username,n=Object(d.useState)([]),a=Object(i.a)(n,2),l=a[0],u=a[1],j=Object(d.useState)(!1),b=Object(i.a)(j,2),h=b[0],p=b[1],f=Object(d.useState)(0),g=Object(i.a)(f,2),v=g[0],y=g[1],C=Object(O.a)(!0),S=Object(d.useState)(null),E=Object(i.a)(S,2),P=E[0],A=E[1];Object(O.b)("Followers - ".concat(r," | Foodie")),Object(d.useEffect)((function(){L()}),[]);var L=function(){var e=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,Object(B.k)(r,{offset:v});case 4:t=e.sent,C&&(u([].concat(Object(fe.a)(l),Object(fe.a)(t))),p(!1),y(v+1),A(null)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),C&&(p(!1),A(e.t0)),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),T=Object(w.a)({loading:h,hasNextPage:!P&&l.length>=10,onLoadMore:L,scrollContainer:"window",threshold:200});return Object(o.jsxs)("div",{className:"w-full",ref:T,children:[h&&0===l.length&&Object(o.jsxs)("div",{className:"min-h-10rem px-4",children:[Object(o.jsx)(m.l,{includeButton:!0}),Object(o.jsx)(m.l,{includeButton:!0}),Object(o.jsx)(m.l,{includeButton:!0}),Object(o.jsx)(m.l,{includeButton:!0})]}),!h&&0===l.length&&P&&Object(o.jsx)("div",{className:"w-full min-h-10rem flex items-center justify-center",children:Object(o.jsx)("h6",{className:"text-gray-400 italic",children:(null===P||void 0===P||null===(t=P.error)||void 0===t?void 0:t.message)||"Something went wrong."})}),0!==l.length&&Object(o.jsxs)("div",{children:[Object(o.jsx)("h4",{className:"text-gray-700 dark:text-white mb-4 ml-4 mt-4 laptop:mt-0",children:"Followers"}),Object(o.jsx)(k.a,{component:null,children:l.map((function(e){return Object(o.jsx)(N.a,{timeout:500,classNames:"fade",children:Object(o.jsx)("div",{className:"bg-white dark:bg-indigo-1000 rounded-md mb-4 shadow-md",children:Object(o.jsx)(x.q,{profile:e})})},e.id)}))}),0!==l.length&&!P&&h&&Object(o.jsx)("div",{className:"flex justify-center py-6",children:Object(o.jsx)(m.e,{})})]})]})},ge=function(e){var t,r=e.username,n=Object(d.useState)([]),a=Object(i.a)(n,2),l=a[0],u=a[1],j=Object(d.useState)(!1),b=Object(i.a)(j,2),h=b[0],p=b[1],f=Object(d.useState)(0),g=Object(i.a)(f,2),v=g[0],y=g[1],C=Object(d.useState)(null),S=Object(i.a)(C,2),E=S[0],P=S[1],A=Object(O.a)(!0);Object(O.b)("Following - ".concat(r," | Foodie")),Object(d.useEffect)((function(){L()}),[]);var L=function(){var e=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,Object(B.l)(r,{offset:v});case 4:t=e.sent,A&&(u([].concat(Object(fe.a)(l),Object(fe.a)(t))),p(!1),y(v+1),P(null)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),A&&(p(!1),P(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),T=Object(w.a)({loading:h,hasNextPage:!E&&l.length>=10,onLoadMore:L,scrollContainer:"window",threshold:200});return Object(o.jsxs)("div",{className:"w-full",ref:T,children:[h&&0===l.length&&Object(o.jsxs)("div",{className:"min-h-10rem px-4",children:[Object(o.jsx)(m.l,{includeButton:!0}),Object(o.jsx)(m.l,{includeButton:!0}),Object(o.jsx)(m.l,{includeButton:!0}),Object(o.jsx)(m.l,{includeButton:!0})]}),!h&&0===l.length&&E&&Object(o.jsx)("div",{className:"w-full min-h-10rem flex items-center justify-center",children:Object(o.jsx)("h6",{className:"text-gray-400 italic",children:(null===E||void 0===E||null===(t=E.error)||void 0===t?void 0:t.message)||"".concat(r," isn't following anyone.")})}),0!==l.length&&Object(o.jsxs)("div",{children:[Object(o.jsx)("h4",{className:"text-gray-700 dark:text-white mb-4 ml-4 mt-4 laptop:mt-0",children:"Following"}),Object(o.jsx)(k.a,{component:null,children:l.map((function(e){return Object(o.jsx)(N.a,{timeout:500,classNames:"fade",children:Object(o.jsx)("div",{className:"bg-white dark:bg-indigo-1000 rounded-md mb-4 shadow-md",children:Object(o.jsx)(x.q,{profile:e})})},e.id)}))}),!E&&h&&Object(o.jsx)("div",{className:"flex justify-center py-6",children:Object(o.jsx)(m.e,{})})]})]})},ve=function(){var e=Object(u.d)((function(e){return{profile:e.profile,isOwnProfile:e.auth.username===e.profile.username}})),t=e.profile,r=e.isOwnProfile,n=Object(j.g)();return Object(O.b)("Info - ".concat(t.username," | Foodie")),Object(o.jsxs)("div",{className:"p-4 bg-white dark:bg-indigo-1000 rounded-md min-h-10rem shadow-lg",children:[Object(o.jsxs)("div",{className:"flex justify-between",children:[Object(o.jsx)("h3",{className:"text-gray-500 dark:text-white",children:"Info"}),r&&Object(o.jsx)("span",{className:"underline cursor-pointer text-indigo-700 dark:text-indigo-400 pr-4",onClick:function(){return n.push("/user/".concat(t.username,"/edit"))},children:"Edit"})]}),Object(o.jsxs)("div",{className:"divide-y divide-gray-100 dark:divide-gray-800 space-y-4 mt-8",children:[Object(o.jsxs)("div",{className:"grid grid-cols-3 py-4",children:[Object(o.jsx)("h5",{className:"dark:text-white",children:"Full Name"}),t.fullname?Object(o.jsx)("span",{className:"text-gray-600 dark:text-gray-400 col-span-2",children:t.fullname}):Object(o.jsx)("span",{className:"text-gray-300 italic",children:"Name not set."})]}),Object(o.jsxs)("div",{className:"grid grid-cols-3 py-4",children:[Object(o.jsx)("h5",{className:"dark:text-white",children:"Gender"}),t.info.gender?Object(o.jsx)("span",{className:"text-gray-600 dark:text-gray-400 col-span-2 capitalize",children:t.info.gender}):Object(o.jsx)("span",{className:"text-gray-300 italic",children:"Gender not set."})]}),Object(o.jsxs)("div",{className:"grid grid-cols-3 py-4",children:[Object(o.jsx)("h5",{className:"dark:text-white",children:"Birthday"}),t.info.birthday?Object(o.jsx)("span",{className:"text-gray-600 dark:text-gray-400 col-span-2",children:ie()(t.info.birthday).format("MMM.DD, YYYY")}):Object(o.jsx)("span",{className:"text-gray-300 italic",children:"Birthday not set."})]}),Object(o.jsxs)("div",{className:"grid grid-cols-3 py-4",children:[Object(o.jsx)("h5",{className:"dark:text-white",children:"Bio"}),t.info.bio?Object(o.jsx)("span",{className:"text-gray-600 dark:text-gray-400 col-span-2",children:t.info.bio}):Object(o.jsx)("span",{className:"text-gray-300 italic",children:"Bio not set."})]}),Object(o.jsxs)("div",{className:"grid grid-cols-3 py-4",children:[Object(o.jsx)("h5",{className:"dark:text-white",children:"Date Joined"}),Object(o.jsx)("span",{className:"text-gray-600 dark:text-gray-400 col-span-2",children:ie()(t.dateJoined).format("MMM.DD, YYYY")})]})]})]})},ye=r(75),we=function(e){var t,r,a,l=Object(d.useState)([]),u=Object(i.a)(l,2),j=u[0],h=u[1],p=Object(d.useState)(!1),f=Object(i.a)(p,2),g=f[0],v=f[1],y=Object(d.useState)(!1),C=Object(i.a)(y,2),S=C[0],E=C[1],P=Object(d.useState)(0),A=Object(i.a)(P,2),L=A[0],T=A[1],F=Object(d.useState)(null),M=Object(i.a)(F,2),D=M[0],_=M[1],R=Object(O.d)(),I=R.isOpen,U=R.openModal,G=R.closeModal,z=Object(O.a)(!0);Object(O.b)("Posts - ".concat(e.username," | Foodie")),Object(d.useEffect)((function(){H()}),[]);var q=function(e,t,r){var a=j.map((function(a){return a.id===e?Object(n.a)(Object(n.a)({},a),{},{isLiked:t,likesCount:r}):a}));h(a)},H=function(){var t=Object(s.a)(c.a.mark((function t(){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,v(!0),t.next=4,Object(B.q)(e.username,{offset:L});case 4:r=t.sent,z&&(h([].concat(Object(fe.a)(j),Object(fe.a)(r))),v(!1),0!==r.length&&T(L+1)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),z&&(_(t.t0),v(!1));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),K=function(){var e=Object(s.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E(!0),e.next=4,Object(B.d)(t);case 4:r=e.sent,z&&(h([r].concat(Object(fe.a)(j))),E(!1),_(null)),b.c.dismiss(),b.c.dark("Post created successfully."),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),z&&E(!1),b.c.dismiss(),b.c.error("Somehing went wrong. Please try again later.");case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),Y=Object(w.a)({loading:g,hasNextPage:!D&&j.length>=10,onLoadMore:H,scrollContainer:"window",threshold:200});return Object(o.jsxs)("div",{className:"w-full",children:[e.isOwnProfile&&Object(o.jsxs)("div",{className:"flex items-center justify-start mb-4 px-4 mt-4 laptop:mt-0 laptop:px-0",children:[Object(o.jsx)(m.a,{url:null===(t=e.auth.profilePicture)||void 0===t?void 0:t.url,className:"mr-2"}),Object(o.jsx)("div",{className:"flex-grow",children:Object(o.jsx)("input",{className:"dark:bg-indigo-1100 dark:text-white dark:border-gray-800",type:"text",placeholder:"Create a post.",onClick:function(){return!S&&U()},readOnly:S})})]}),I&&Object(o.jsx)(x.e,{isOpen:I,openModal:U,closeModal:G,dispatchCreatePost:K}),(g||S)&&Object(o.jsx)("div",{className:"mt-4 px-2 overflow-hidden space-y-6 pb-10",children:Object(o.jsx)(ye.a,{})}),!g&&0===j.length&&D&&Object(o.jsx)("div",{className:"w-full min-h-10rem flex items-center justify-center",children:Object(o.jsx)("h6",{className:"text-gray-400 italic",children:(null===D||void 0===D||null===(r=D.error)||void 0===r?void 0:r.message)||"Something went wrong :("})}),0!==j.length&&Object(o.jsxs)("div",{ref:Y,children:[Object(o.jsx)(k.a,{component:null,children:j.map((function(e){return Object(o.jsx)(N.a,{timeout:500,classNames:"fade",children:Object(o.jsx)(x.m,{likeCallback:q,post:e},e.id)},e.id)}))}),0!==j.length&&!D&&g&&Object(o.jsx)("div",{className:"flex justify-center py-6",children:Object(o.jsx)(m.e,{})}),0!==j.length&&D&&Object(o.jsx)("div",{className:"flex justify-center py-6",children:Object(o.jsx)("p",{className:"text-gray-400 italic",children:(null===D||void 0===D||null===(a=D.error)||void 0===a?void 0:a.message)||"No more posts."})})]}),Object(o.jsx)(x.n,{deleteSuccessCallback:function(e){var t=j.filter((function(t){if(t.id!==e)return t}));h(t)},updateSuccessCallback:function(e){var t=j.map((function(t){return t.id===e.id?Object(n.a)(Object(n.a)({},t),e):t}));h(t)}})]})},ke=function(e){var t=Object(u.c)(),r=e.match.params.username,n=Object(u.d)((function(e){return{profile:e.profile,auth:e.auth,error:e.error.profileError,isLoadingGetUser:e.loading.isLoadingGetUser}}));return Object(d.useEffect)((function(){n.profile.username!==r&&t(Object(H.a)(r))}),[]),Object(o.jsxs)(m.c,{children:[n.error&&!n.isLoadingGetUser&&Object(o.jsx)(g,{}),n.isLoadingGetUser&&Object(o.jsx)("div",{className:"pt-14",children:Object(o.jsx)(m.i,{})}),!n.error&&!n.isLoadingGetUser&&n.profile.id&&Object(o.jsxs)("div",{className:"pt-14",children:[Object(o.jsx)(ce,{auth:n.auth,profile:n.profile}),Object(o.jsxs)("div",{className:"laptop:px-6% relative flex min-h-10rem  items-start transform laptop:-translate-y-24",children:[Object(o.jsx)("div",{className:"hidden laptop:block laptop:w-1/4 laptop:mr-4 laptop:sticky laptop:top-44",children:Object(o.jsx)(oe,{bio:n.profile.info.bio,dateJoined:n.profile.dateJoined})}),Object(o.jsx)("div",{className:"w-full laptop:w-2/4 mb-14",children:Object(o.jsxs)(j.d,{children:[Object(o.jsx)(j.b,{exact:!0,path:h.e,children:Object(o.jsx)(we,{username:r,isOwnProfile:n.profile.isOwnProfile,auth:n.auth})}),Object(o.jsx)(j.b,{path:h.h,children:Object(o.jsx)(Oe,{username:r})}),Object(o.jsx)(j.b,{path:h.i,children:Object(o.jsx)(ge,{username:r})}),Object(o.jsx)(j.b,{path:h.f,children:Object(o.jsx)(xe,{username:r,isOwnProfile:n.profile.isOwnProfile})}),Object(o.jsx)(j.b,{path:h.j,children:Object(o.jsx)(ve,{})}),Object(o.jsx)(j.b,{path:h.g,children:Object(o.jsx)(pe,{isOwnProfile:n.profile.isOwnProfile,profile:n.profile})})]})})]})]})]})},Ne=function(){return Object(O.b)("Authentication Failed"),Object(o.jsxs)("div",{className:"contain pt-14 h-full",children:[Object(o.jsx)("h1",{className:"mt-8 text-2xl laptop:text-4xl dark:text-white",children:"Failed to authenticate"}),Object(o.jsx)("br",{}),Object(o.jsx)("h4",{className:"text-gray-600 dark:text-gray-400",children:"Possible cause(s):"}),Object(o.jsx)("ul",{className:"text-gray-500",children:Object(o.jsx)("li",{className:"list-disc ml-8",children:"Same email/username has been already linked to other social login eg: Google"})}),Object(o.jsx)(f.a,{className:"button inline-flex mt-8",to:"/",children:"Back to Login"})]})},Ce=r.p+"static/media/friends_meal_2.1cf17742.webp",Se=function(){var e,t=Object(d.useState)(""),r=Object(i.a)(t,2),n=r[0],a=r[1],l=Object(d.useState)(""),j=Object(i.a)(l,2),b=j[0],x=j[1],m=Object(d.useState)(""),p=Object(i.a)(m,2),g=p[0],v=p[1],y=Object(d.useState)(!1),w=Object(i.a)(y,2),k=w[0],N=w[1],C=Object(u.c)();Object(O.b)("Register to Foodie"),Object(d.useEffect)((function(){return function(){C(Object(G.a)(null))}}),[]);var S=Object(u.d)((function(e){return{error:e.error.authError,isLoading:e.loading.isLoadingAuth}})),E=S.error,P=S.isLoading,A=function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n&&b&&g&&C(Object(U.e)({email:n,password:b,username:g}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)("div",{className:"min-h-screen flex bg-white",children:[Object(o.jsxs)("div",{className:"relative hidden laptop:w-7/12 h-screen laptop:p-8 laptop:flex laptop:justify-start laptop:items-end !bg-cover !bg-no-repeat !bg-center",style:{background:"#f7f7f7 url(".concat(Ce,")")},children:[Object(o.jsx)(f.a,{className:"absolute left-8 top-8",to:"/",children:Object(o.jsx)("img",{src:R,alt:"Foodie Logo",className:"w-24"})}),Object(o.jsx)("h3",{className:"animate-fade text-white w-9/12 mb-14",children:"Create your account now and discover new ideas and connect with people."}),Object(o.jsx)("a",{className:"animate-fade absolute bottom-8 left-8 text-1xs text-white underline",target:"_blank",rel:"noreferrer",href:"https://infinityrimapts.com/5-reasons-host-dinner-party/friends-enjoying-a-meal/",children:"Photo: Credits to the photo owner"})]}),Object(o.jsxs)("div",{className:"relative animate-fade w-full text-center laptop:w-5/12 laptop:text-left flex items-center flex-col justify-center pt-8 laptop:pt-0",children:[Object(o.jsx)(f.a,{to:"/",children:Object(o.jsx)("img",{src:I.a,alt:"Foodie Logo",className:"w-24 relative mx-auto laptop:hidden"})}),E&&Object(o.jsx)("div",{className:"p-4 w-full text-center bg-red-100 border-red-400 absolute top-0 left-0",children:Object(o.jsx)("p",{className:"text-red-500 text-sm",children:(null===E||void 0===E||null===(e=E.error)||void 0===e?void 0:e.message)||"Something went wrong :("})}),Object(o.jsxs)("div",{className:"w-full px-8 laptop:px-14",children:[Object(o.jsx)("div",{children:Object(o.jsx)("h2",{className:"mt-6 text-xl laptop:text-2xl font-extrabold text-gray-900",children:"Create your account"})}),Object(o.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:A,children:[Object(o.jsxs)("div",{className:"rounded-md shadow-sm space-y-2",children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{htmlFor:"email-address",className:"sr-only",children:"Username"}),Object(o.jsx)("input",{id:"username",name:"username",type:"text",className:" ".concat(E?"input--error":""),onChange:function(e){var t=e.target.value.trim();v(t.toLowerCase())},autoComplete:"username",maxLength:30,required:!0,readOnly:P,placeholder:"Username",value:g})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),Object(o.jsx)("input",{id:"email-address",name:"email",type:"email",className:" ".concat(E?"input--error":""),onChange:function(e){var t=e.target.value.trim();a(t.toLowerCase())},autoComplete:"email",maxLength:64,required:!0,readOnly:P,placeholder:"Email Address",value:n})]}),Object(o.jsxs)("div",{className:"relative",children:[Object(o.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),Object(o.jsx)("input",{id:"password",name:"password",type:k?"text":"password",className:"!pr-12 ".concat(E?"input--error":""),onChange:function(e){var t=e.target.value.trim();x(t)},autoComplete:"current-password",required:!0,minLength:8,maxLength:100,readOnly:P,placeholder:"Password",value:b}),Object(o.jsx)("div",{className:"absolute right-0 top-0 bottom-0 my-auto flex items-center justify-center w-12 h-12 hover:bg-gray-200 cursor-pointer rounded-tr-full rounded-br-full z-10",children:k?Object(o.jsx)(F.a,{className:"h-full w-full outline-none text-gray-500",onClick:function(){return N(!1)}}):Object(o.jsx)(M.a,{className:"h-full w-full outline-none",onClick:function(){return N(!0)}})})]})]}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{type:"submit",className:"button--stretch",disabled:P,children:P?"Registering...":"Register"})}),Object(o.jsx)("i",{className:"social-login-divider",children:"OR"}),Object(o.jsx)("div",{className:"flex justify-between space-x-2"})]}),Object(o.jsx)("div",{className:"text-center mt-8",children:Object(o.jsx)(f.a,{className:"underline font-medium",onClick:function(e){return P&&e.preventDefault()},to:h.c,children:"Login instead"})}),Object(o.jsxs)("span",{className:"text-gray-400 text-xs mx-auto text-center block mt-4",children:["\xa9Copyright ",(new Date).getFullYear()," Foodie"]})]})]})]})},Ee=r(238),Pe=r(229),Ae=r(57);ie.a.extend(je.a);var Le=function(e,t){var r=e.toUpperCase(),n=t.toUpperCase(),a=r.indexOf(n);if(!n||-1===a)return e;var c=n.length;return e.substr(0,a)+'<b><span style="color: #818cf8">'+e.substr(a,c)+"</span></b>"+e.substr(a+c)},Te=function(e){var t=e.posts,r=e.searchQuery,n=Object(j.g)();Object(Ae.a)("Search Posts | Foodie");return Object(o.jsx)("div",{className:"space-y-4",children:t.map((function(e){var t;return e.author&&Object(o.jsxs)("div",{className:"h-28 laptop:h-24 flex justify-start bg-white dark:bg-indigo-1100 rounded-md shadow-lg overflow-hidden cursor-pointer border border-transparent hover:border-indigo-700",onClick:function(t){return r=e.id,void n.push("/post/".concat(r));var r},children:[Object(o.jsx)("div",{className:"w-24 laptop:w-32 h-full !bg-cover !bg-no-repeat !bg-center",style:{background:"#f7f7f7 url(".concat((null===(t=e.photos[0])||void 0===t?void 0:t.url)||be,")")}}),Object(o.jsxs)("div",{className:"flex-grow p-2 pb-4 max-w-sm",children:[Object(o.jsx)("h4",{className:"break-all overflow-hidden overflow-ellipsis h-12 font-normal dark:text-white",dangerouslySetInnerHTML:{__html:Le(e.description,r)}}),Object(o.jsxs)("div",{className:"flex flex-col laptop:flex-row space-y-2 laptop:space-y-0 self-end",children:[Object(o.jsx)("div",{className:"flex",children:Object(o.jsxs)("h6",{className:"text-xs text-gray-400 laptop:mr-4",children:["Posted by \xa0",Object(o.jsx)("span",{className:"underline text-indigo-700 dark:text-indigo-400 cursor-pointer hover:text-indigo-400",onClick:function(t){return function(e,t){e.stopPropagation(),n.push("/user/".concat(t))}(t,e.author.username)},children:e.author.username}),"\xa0",ie()(e.createdAt).fromNow()]})}),Object(o.jsxs)("div",{className:"flex space-x-2",children:[Object(o.jsxs)("h6",{className:"text-sm text-gray-600 flex items-center",children:[e.likesCount,"\xa0",Object(o.jsx)(Ee.a,{})]}),Object(o.jsxs)("h6",{className:"text-sm text-gray-600 flex items-center",children:[e.commentsCount,"\xa0",Object(o.jsx)(Pe.a,{})]})]})]})]})]},e.id)}))})},Fe=r(58),Me=function(e){var t=e.users;return Object(Ae.a)("Search Users | Foodie"),Object(o.jsx)("div",{children:t.map((function(e){return Object(o.jsx)("div",{className:"bg-white dark:bg-indigo-1100 rounded-md mb-4 shadow-md dark:shadow-none divide-y divide-y-transparent dark:divide-gray-800",children:Object(o.jsx)(Fe.a,{profile:e})},e.id)}))})},De=function(e){var t,r,n=e.history,a=Object(d.useState)([]),l=Object(i.a)(a,2),u=l[0],b=l[1],x=Object(d.useState)([]),h=Object(i.a)(x,2),p=h[0],f=h[1],g=Object(d.useState)(null),v=Object(i.a)(g,2),y=v[0],k=v[1],N=Object(d.useState)(0),C=Object(i.a)(N,2),S=C[0],E=C[1],P=Object(d.useState)(0),A=Object(i.a)(P,2),L=A[0],T=A[1],F=Object(d.useState)(!1),M=Object(i.a)(F,2),D=M[0],_=M[1],R=Object(d.useState)(!1),I=Object(i.a)(R,2),U=I[0],G=I[1],z=new URLSearchParams(Object(j.h)().search),q=Object(O.a)(!0),H=z.get("q"),K=z.get("type");Object(d.useEffect)((function(){console.log("mounted")}),[]),Object(d.useEffect)((function(){"posts"===K?Y():V()}),[K,H]);var Y=function(){var e=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!H||!K){e.next=8;break}return G(!0),k(null),e.next=6,Object(B.G)({q:H,type:"posts",offset:L});case 6:t=e.sent,q&&(f([].concat(Object(fe.a)(p),Object(fe.a)(t))),G(!1),T(L+1));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),q&&(G(!1),k(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!H){e.next=8;break}return k(null),_(!0),e.next=6,Object(B.G)({q:H,offset:S});case 6:t=e.sent,q&&(b([].concat(Object(fe.a)(u),Object(fe.a)(t))),_(!1),E(S+1));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),q&&(_(!1),k(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),W=Object(w.a)({loading:D,hasNextPage:!y&&u.length>=10,onLoadMore:V,scrollContainer:"window",threshold:100}),J=Object(w.a)({loading:U,hasNextPage:!y&&p.length>=10,onLoadMore:Y,scrollContainer:"window",threshold:100});return H?Object(o.jsxs)("div",{className:"min-h-screen pt-20",children:[Object(o.jsxs)("div",{className:"contain",children:[Object(o.jsxs)("h2",{className:"text-lg laptop:text-2xl dark:text-white",children:["You searched for: \xa0",Object(o.jsx)("span",{className:"text-indigo-700 dark:text-indigo-400 break-all",children:H})]}),Object(o.jsx)("span",{className:"text-gray-400",children:"Search Result"}),Object(o.jsxs)("ul",{className:"space-x-4 mt-4",children:[Object(o.jsx)("li",{className:"inline-block border-b-4 border-transparent px-2 py-4 cursor-pointer font-medium hover:border-indigo-700 text-gray-400 ".concat("posts"!==K&&" border-indigo-700 text-gray-900 dark:text-white dark:border-indigo-400"),onClick:function(){n.push("/search?q=".concat(H,"&type=users"))},children:"Users"}),Object(o.jsx)("li",{className:"inline-block border-b-4 border-transparent px-2 py-4 cursor-pointer font-medium hover:border-indigo-700 text-gray-400 ".concat("posts"===K&&" border-indigo-700 text-gray-900 dark:text-white dark:border-indigo-400"),onClick:function(){n.push("/search?q=".concat(H,"&type=posts"))},children:"Posts"})]})]}),Object(o.jsx)("div",{className:"contain bg-gray-200 dark:bg-indigo-1000 py-8 min-h-10rem",children:Object(o.jsx)("div",{className:"w-full laptop:w-3/4",children:"posts"===K?Object(o.jsxs)("div",{ref:J,children:[U&&0===p.length&&Object(o.jsx)("div",{className:"p-4 flex items-center justify-center",children:Object(o.jsx)(m.e,{})}),!U&&0===p.length&&y&&Object(o.jsx)("div",{className:"p-4 flex items-center justify-center",children:Object(o.jsx)("span",{className:"text-gray-400 italic font-medium",children:(null===y||void 0===y||null===(t=y.error)||void 0===t?void 0:t.message)||"Something went wrong :("})}),0!==p.length&&Object(o.jsx)(Te,{posts:p,searchQuery:H}),U&&p.length>=10&&!y&&Object(o.jsx)("div",{className:"px-4 py-14 flex items-center justify-center",children:Object(o.jsx)(m.e,{})})]}):Object(o.jsxs)("div",{ref:W,children:[D&&0===u.length&&Object(o.jsxs)("div",{className:"min-h-10rem",children:[Object(o.jsx)(m.l,{backgroundColor:"#dadada"}),Object(o.jsx)(m.l,{backgroundColor:"#dadada"}),Object(o.jsx)(m.l,{backgroundColor:"#dadada"}),Object(o.jsx)(m.l,{backgroundColor:"#dadada"}),Object(o.jsx)(m.l,{backgroundColor:"#dadada"})]}),!D&&0===u.length&&y&&Object(o.jsx)("div",{className:"p-4 flex items-center justify-center",children:Object(o.jsx)("span",{className:"text-gray-400 italic font-medium",children:(null===y||void 0===y||null===(r=y.error)||void 0===r?void 0:r.message)||"Something went wrong :("})}),0!==u.length&&Object(o.jsx)(Me,{users:u}),D&&u.length>=10&&!y&&Object(o.jsx)("div",{className:"px-4 py-14 flex items-center justify-center",children:Object(o.jsx)(m.e,{})})]})})})]}):Object(o.jsx)(j.a,{to:"/"})},_e=function(){var e,t=Object(d.useState)([]),r=Object(i.a)(t,2),n=r[0],a=r[1],l=Object(d.useState)(!1),u=Object(i.a)(l,2),j=u[0],b=u[1],h=Object(d.useState)(null),p=Object(i.a)(h,2),f=p[0],g=p[1],v=Object(d.useState)(0),y=Object(i.a)(v,2),C=y[0],S=y[1],E=Object(O.a)(!0);Object(d.useEffect)((function(){P()}),[]);var P=function(){var e=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),e.next=4,Object(B.s)({offset:C});case 4:t=e.sent,E&&(a([].concat(Object(fe.a)(n),Object(fe.a)(t))),S(C+1),b(!1)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),E&&(b(!1),g(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),A=Object(w.a)({loading:j,hasNextPage:!f&&n.length>=10,onLoadMore:P,scrollContainer:"window"});return Object(o.jsxs)("div",{className:"contain min-h-screen w-full py-24",children:[Object(o.jsxs)("div",{className:"mb-8",children:[Object(o.jsx)("h2",{className:"dark:text-white",children:"Suggested People"}),Object(o.jsx)("p",{className:"text-gray-400 text-sm",children:"Follow people to see their updates"})]}),j&&0===n.length&&Object(o.jsxs)("div",{className:"min-h-10rem px-4",children:[Object(o.jsx)(m.l,{}),Object(o.jsx)(m.l,{}),Object(o.jsx)(m.l,{}),Object(o.jsx)(m.l,{})]}),!j&&f&&0===n.length&&Object(o.jsx)("div",{className:"flex min-h-10rem items-center justify-center",children:Object(o.jsx)("span",{className:"text-gray-400 italic",children:(null===f||void 0===f||null===(e=f.error)||void 0===e?void 0:e.message)||"Something went wrong :("})}),Object(o.jsx)(k.a,{component:null,children:Object(o.jsx)("div",{className:"grid grid-cols-1 laptop:grid-cols-2 laptop:gap-x-4",ref:A,children:n.map((function(e){return Object(o.jsx)(N.a,{timeout:500,classNames:"fade",children:Object(o.jsx)("div",{className:"bg-white dark:bg-indigo-1000 rounded-md mb-4 shadow-md dark:shadow-none",children:Object(o.jsx)(x.q,{profile:e})},e.id)},e.id)}))})}),j&&n.length>=10&&!f&&Object(o.jsx)("div",{className:"px-4 py-14 flex items-center justify-center",children:Object(o.jsx)(m.e,{})})]})},Re=r(60),Ie=r(53),Ue=Object(Ie.a)((function(e){var t=e.isAuth,r=e.component,a=(e.path,Object(Re.a)(e,["isAuth","component","path"]));return Object(o.jsx)(j.b,Object(n.a)(Object(n.a)({},a),{},{component:function(e){return t?Object(o.jsx)(r,Object(n.a)({},e)):Object(o.jsx)(j.a,{to:h.c})}}))})),Ge=Object(Ie.a)((function(e){var t=e.isAuth,r=e.component,a=(e.path,Object(Re.a)(e,["isAuth","component","path"]));return Object(o.jsx)(j.b,Object(n.a)(Object(n.a)({},a),{},{component:function(e){return t?Object(o.jsx)(j.a,{to:h.b}):Object(o.jsx)(r,Object(n.a)({},e))}}))})),ze=Object(l.a)();t.a=function(){var e=Object(d.useState)(!0),t=Object(i.a)(e,2),r=t[0],a=t[1],l=Object(u.c)(),f=window.screen.width>=800;return Object(d.useEffect)((function(){Object(s.a)(c.a.mark((function e(){var t,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(B.b)();case 3:t=e.sent,r=t.auth,l(Object(U.b)(r)),E.a.on("connect",(function(){E.a.emit("userConnect",r.id),console.log("Client connected to socket.")})),E.a.on("error",(function(){E.a.emit("userConnect",r.id)})),a(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("ERROR",e.t0),a(!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))()}),[]),r?Object(o.jsx)(m.h,{}):Object(o.jsx)(j.c,{history:ze,children:Object(o.jsxs)("main",{className:"relative min-h-screen",children:[Object(o.jsx)(b.b,{position:"bottom-left",autoClose:5e3,transition:b.a,draggable:!1,hideProgressBar:!0,bodyStyle:{paddingLeft:"15px"}}),Object(o.jsx)(m.f,{}),Object(o.jsxs)(j.d,{children:[Object(o.jsx)(Ge,{path:h.k,component:Se}),Object(o.jsx)(Ge,{path:h.c,component:z}),Object(o.jsx)(Ue,{path:h.l,component:De}),Object(o.jsx)(j.b,{path:h.b,exact:!0,render:function(e){return Object(o.jsx)(T,Object(n.a)({},e),Date.now())}}),Object(o.jsx)(Ue,{path:h.d,component:q}),Object(o.jsx)(Ue,{path:h.e,component:ke}),Object(o.jsx)(Ue,{path:h.a,component:p}),Object(o.jsx)(Ue,{path:h.n,component:_e}),Object(o.jsx)(j.b,{path:h.m,component:Ne}),Object(o.jsx)(j.b,{component:g})]}),f&&Object(o.jsx)(x.c,{})]})})}},80:function(e,t,r){"use strict";var n,a=r(45),c=r(133),s=r(3),i=r(6),o={id:"",username:"",fullname:"",profilePicture:{}},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.r:return t.payload;case i.t:return o;case i.x:return t.payload;case i.J:return Object(s.a)(Object(s.a)({},e),{},{profilePicture:t.payload});default:return e}},d=r(17),u={active:"",items:[]},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.p:var r=e.items.some((function(e){return e.id===t.payload.id})),n={username:t.payload.username,id:t.payload.id,profilePicture:t.payload.profilePicture,minimized:!1,chats:[]},a=4,c=e.items.length===a;if(r)return{active:t.payload.id,items:e.items.map((function(e){return e.id===t.payload.id?Object(s.a)(Object(s.a)({},e),{},{minimized:!1}):Object(s.a)(Object(s.a)({},e),{},{minimized:!0})}))};var o=e.items.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{minimized:!0})})),l=o.splice(1);return{active:t.payload.id,items:[].concat(c?Object(d.a)(l):Object(d.a)(e.items.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{minimized:!0})}))),[n])};case i.u:return{active:"",items:e.items.map((function(e){return e.username===t.payload?Object(s.a)(Object(s.a)({},e),{},{minimized:!0}):e}))};case i.e:return{active:"",items:e.items.filter((function(e){return e.username!==t.payload}))};case i.k:return Object(s.a)(Object(s.a)({},e),{},{items:e.items.map((function(e){return e.username!==t.payload.username?e:Object(s.a)(Object(s.a)({},e),{},{offset:(e.offset||0)+1,chats:[].concat(Object(d.a)(t.payload.messages),Object(d.a)(e.chats))})}))});case i.v:return Object(s.a)(Object(s.a)({},e),{},{items:e.items.map((function(e){return e.username!==t.payload.username?e:Object(s.a)(Object(s.a)({},e),{},{chats:[].concat(Object(d.a)(e.chats),[t.payload.message])})}))});case i.c:return u;default:return e}},b={authError:null,profileError:null,newsFeedError:null},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.y:return Object(s.a)(Object(s.a)({},e),{},{authError:t.payload});case i.E:return Object(s.a)(Object(s.a)({},e),{},{profileError:t.payload});case i.D:return Object(s.a)(Object(s.a)({},e),{},{newsFeedError:t.payload});case i.b:return Object(s.a)(Object(s.a)({},e),{},{authError:null});default:return e}},m={targetComment:null,targetPost:null},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.F:return Object(s.a)(Object(s.a)({},e),{},{targetComment:t.payload});case i.G:return Object(s.a)(Object(s.a)({},e),{},{targetPost:t.payload});default:return e}},p={isLoadingAuth:!1,isLoadingCreatePost:!1,isLoadingGetUser:!1,isLoadingProfile:!1,isLoadingFeed:!1},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.z:return Object(s.a)(Object(s.a)({},e),{},{isLoadingAuth:t.payload});case i.A:return Object(s.a)(Object(s.a)({},e),{},{isLoadingCreatePost:t.payload});case i.C:return Object(s.a)(Object(s.a)({},e),{},{isLoadingGetUser:t.payload});case i.B:return Object(s.a)(Object(s.a)({},e),{},{isLoadingFeed:t.payload});default:return e}},O=r(52),g=r(34),v={isOpenDeleteComment:!1,isOpenDeletePost:!1,isOpenEditPost:!1,isOpenPostLikes:!1},y=(n={},Object(O.a)(n,g.a.DELETE_COMMENT,"isOpenDeleteComment"),Object(O.a)(n,g.a.DELETE_POST,"isOpenDeletePost"),Object(O.a)(n,g.a.EDIT_POST,"isOpenEditPost"),Object(O.a)(n,g.a.POST_LIKES,"isOpenPostLikes"),n),w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.I:return Object(s.a)(Object(s.a)({},e),{},Object(O.a)({},y[t.payload],!0));case i.o:return Object(s.a)(Object(s.a)({},e),{},Object(O.a)({},y[t.payload],!1));default:return e}},k={items:[],offset:0,hasNewFeed:!1},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.j:return Object(s.a)(Object(s.a)({},e),{},{items:[].concat(Object(d.a)(e.items),Object(d.a)(t.payload)),offset:e.offset+1});case i.g:return Object(s.a)(Object(s.a)({},e),{},{items:[t.payload].concat(Object(d.a)(e.items))});case i.d:return k;case i.L:return Object(s.a)(Object(s.a)({},e),{},{items:e.items.map((function(e){return e.id===t.payload.id?Object(s.a)(Object(s.a)({},e),t.payload):e}))});case i.M:return Object(s.a)(Object(s.a)({},e),{},{items:e.items.map((function(e){return e.id===t.payload.postID?Object(s.a)(Object(s.a)({},e),{},{isLiked:t.payload.state,likesCount:t.payload.likesCount}):e}))});case i.h:return Object(s.a)(Object(s.a)({},e),{},{items:e.items.filter((function(e){if(e.id!==t.payload)return e}))});case i.n:return Object(s.a)(Object(s.a)({},e),{},{hasNewFeed:t.payload});default:return e}},C={_id:"",id:"",username:"",email:"",fullname:"",firstname:"",lastname:"",info:{bio:"",birthday:"",gender:"unspecified"},isEmailValidated:!1,profilePicture:{},coverPhoto:{},followersCount:0,followingCount:0,dateJoined:""},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.m:return t.payload;case i.O:return Object(s.a)(Object(s.a)({},e),{},{profilePicture:t.payload});case i.N:var r=t.payload;return Object(s.a)(Object(s.a)({},e),{},{fullname:r.fullname,firstname:r.firstname,lastname:r.lastname,info:r.info});case i.K:return Object(s.a)(Object(s.a)({},e),{},{coverPhoto:t.payload});default:return e}},E={theme:"light"},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.H:return Object(s.a)(Object(s.a)({},e),{},{theme:t.payload});default:return e}},A=Object(a.c)({auth:l,error:x,loading:f,newsFeed:N,profile:S,chats:j,helper:h,modal:w,settings:P}),L=r(4),T=r.n(L),F=r(16),M=r(79),D=r(19),_=r(11),R=r(28),I=r(33),U=r(35),G=r(41),z=r(32),B=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:i.z,payload:e}},q=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:i.A,payload:e}},H=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:i.C,payload:e}},K=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:i.B,payload:e}},Y=T.a.mark(W),V=T.a.mark(J);function W(e){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(F.b)(B(!1));case 2:return t.next=4,Object(F.b)(Object(G.a)(e));case 4:case"end":return t.stop()}}),Y)}function J(e){var t,r,n,a,c,s,o,l,d;return T.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:t=e.type,r=e.payload,u.t0=t,u.next=u.t0===i.q?4:u.t0===i.a?26:u.t0===i.s?45:u.t0===i.w?72:91;break;case 4:return u.prev=4,u.next=7,Object(F.b)(B(!0));case 7:return u.next=9,Object(F.a)(_.z,r.email,r.password);case 9:return n=u.sent,a=n.auth,R.a.emit("userConnect",a.id),u.next=14,Object(F.b)(Object(z.a)());case 14:return u.next=16,Object(F.b)(Object(I.b)(a));case 16:return u.next=18,Object(F.b)(B(!1));case 18:u.next=25;break;case 20:return u.prev=20,u.t1=u.catch(4),console.log(u.t1),u.next=25,W(u.t1);case 25:return u.abrupt("break",92);case 26:return u.prev=26,u.next=29,Object(F.b)(B(!0));case 29:return u.next=31,Object(F.a)(_.b);case 31:return c=u.sent,s=c.auth,console.log("SUCCESS ",s),u.next=36,Object(F.b)(Object(I.b)(s));case 36:return u.next=38,Object(F.b)(B(!1));case 38:u.next=44;break;case 40:return u.prev=40,u.t2=u.catch(26),u.next=44,W(u.t2);case 44:return u.abrupt("break",92);case 45:return u.prev=45,u.next=48,Object(F.c)();case 48:return o=u.sent,l=o.auth,u.next=52,Object(F.b)(B(!0));case 52:return u.next=54,Object(F.a)(_.A);case 54:return r.callback&&r.callback(),u.next=57,Object(F.b)(Object(I.d)());case 57:return u.next=59,Object(F.b)(B(!1));case 59:return u.next=61,Object(F.b)(Object(z.a)());case 61:return u.next=63,Object(F.b)(Object(U.a)());case 63:M.b.push(D.c),R.a.emit("userDisconnect",l.id),u.next=71;break;case 67:return u.prev=67,u.t3=u.catch(45),u.next=71,W(u.t3);case 71:return u.abrupt("break",92);case 72:return u.prev=72,u.next=75,Object(F.b)(B(!0));case 75:return u.next=77,Object(F.a)(_.E,r);case 77:return d=u.sent,R.a.emit("userConnect",d.id),u.next=81,Object(F.b)(Object(I.f)(d));case 81:return u.next=83,Object(F.b)(B(!1));case 83:u.next=90;break;case 85:return u.prev=85,u.t4=u.catch(72),console.log("ERR",u.t4),u.next=90,W(u.t4);case 90:return u.abrupt("break",92);case 91:return u.abrupt("return");case 92:case"end":return u.stop()}}),V,null,[[4,20],[26,40],[45,67],[72,85]])}var Q=J,X=r(20),Z=T.a.mark($);function $(e){var t,r,n,a;return T.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:t=e.type,r=e.payload,c.t0=t,c.next=c.t0===i.i?4:c.t0===i.f?26:46;break;case 4:return c.prev=4,c.next=7,Object(F.b)(K(!0));case 7:return c.next=9,Object(F.b)(Object(G.b)(null));case 9:return c.next=11,Object(F.a)(_.n,r);case 11:return n=c.sent,c.next=14,Object(F.b)(K(!1));case 14:return c.next=16,Object(F.b)(Object(z.f)(n));case 16:c.next=25;break;case 18:return c.prev=18,c.t1=c.catch(4),console.log(c.t1),c.next=23,Object(F.b)(K(!1));case 23:return c.next=25,Object(F.b)(Object(G.b)(c.t1));case 25:return c.abrupt("break",47);case 26:return c.prev=26,c.next=29,Object(F.b)(q(!0));case 29:return c.next=31,Object(F.a)(_.d,r);case 31:return a=c.sent,c.next=34,Object(F.b)(Object(z.c)(a));case 34:return c.next=36,Object(F.b)(q(!1));case 36:X.c.dismiss(),X.c.dark("Post succesfully created."),c.next=45;break;case 40:return c.prev=40,c.t2=c.catch(26),c.next=44,Object(F.b)(q(!1));case 44:console.log(c.t2);case 45:return c.abrupt("break",47);case 46:throw new Error("Unexpected action type.");case 47:case"end":return c.stop()}}),Z,null,[[4,18],[26,40]])}var ee=$,te=r(51),re=T.a.mark(ne);function ne(e){var t,r,n;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t=e.type,r=e.payload,a.t0=t,a.next=a.t0===i.l?4:26;break;case 4:return a.prev=4,a.next=7,Object(F.b)(H(!0));case 7:return a.next=9,Object(F.a)(_.v,r);case 9:return n=a.sent,a.next=12,Object(F.b)(H(!1));case 12:return a.next=14,Object(F.b)(Object(G.c)(null));case 14:return a.next=16,Object(F.b)(Object(te.b)(n));case 16:a.next=25;break;case 18:return a.prev=18,a.t1=a.catch(4),a.next=22,Object(F.b)(Object(G.c)(a.t1));case 22:return a.next=24,Object(F.b)(H(!1));case 24:console.log(a.t1);case 25:return a.abrupt("break",27);case 26:throw new Error("Unexpected action type ".concat(t,"."));case 27:case"end":return a.stop()}}),re,null,[[4,18]])}var ae=ne,ce=T.a.mark(se);function se(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.d)([i.q,i.s,i.w,i.a],Q);case 2:return e.next=4,Object(F.d)([i.i,i.f],ee);case 4:return e.next=6,Object(F.d)([i.l],ae);case 6:case"end":return e.stop()}}),ce)}var ie=se,oe=Object(c.a)(),le=[oe,function(e){return function(t){return function(r){var n=t(r);try{var a=e.getState().settings;localStorage.setItem("foodie_theme",JSON.stringify(a.theme))}catch(c){console.log("Error while saving in localStorage",c)}return n}}}],de=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||a.d,ue=function(){var e=Object(a.e)(A,function(){var e=localStorage.getItem("foodie_theme");if(e&&null!==e)return{settings:{theme:JSON.parse(e)}}}(),de(a.a.apply(void 0,le)));return oe.run(ie),e}();t.a=ue},99:function(e,t,r){"use strict";r.r(t);var n=r(2),a=r(0),c=r(214),s=r(215),i=r(216),o=r(69),l=r(137),d=r(217),u=r(218),j=r(219),b=r(138),x=r(1),m=r(27),h=r(13),p=r(18),f=r(7),O=r(19),g=r(44);t.default=function(e){var t,r=e.theme,v=e.isAuth,y=e.auth,w=e.openModal,k=Object(x.useState)(!1),N=Object(n.a)(k,2),C=N[0],S=N[1],E=Object(x.useState)(!1),P=Object(n.a)(E,2),A=P[0],L=P[1],T=Object(m.h)().pathname,F=Object(m.g)(),M=function(){L(!1)};return C?Object(a.jsxs)("div",{className:"fixed top-0 left-0 flex w-full items-center bg-indigo-700 z-9999 py-2 pr-2 shadow-xl",children:[Object(a.jsx)("div",{className:"p-2 rounded-full flex items-center justify-center cursor-pointer hover:bg-indigo-500",onClick:function(){return S(!1)},children:Object(a.jsx)(c.a,{className:"text-white",style:{fontSize:"18px"}})}),Object(a.jsx)(f.j,{clickItemCallback:function(e){S(!1),F.push("/user/".concat(e.username))},inputClassName:"w-full"})]}):Object(a.jsxs)("nav",{className:"contain flex justify-between z-9999 align-center w-100 border-b border-transparent bg-white dark:bg-indigo-1000 text-gray-700 h-60px py-2 fixed top-0 left-0 w-full shadow-md laptop:shadow-sm dark:border-gray-800",children:[Object(a.jsx)("div",{className:"flex items-center space-x-8",children:Object(a.jsx)(h.a,{to:{pathname:"/",state:{from:T}},children:Object(a.jsx)("img",{src:g.a,alt:"",className:"w-24",style:{filter:"brightness(".concat("dark"===r?3.5:1,")")}})})}),Object(a.jsxs)("div",{className:"flex items-center space-x-4 laptop:hidden",children:[v&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"p-2 rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-200  dark:hover:bg-indigo-1100",children:Object(a.jsx)(p.k,{isAuth:v})}),Object(a.jsx)("div",{className:"p-2 rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-200  dark:hover:bg-indigo-1100",children:Object(a.jsx)(p.l,{isAuth:v})})]}),Object(a.jsx)("div",{className:"p-2 rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-200 dark:text-white dark:hover:bg-indigo-1100",onClick:function(){return S(!0)},children:Object(a.jsx)(s.a,{style:{fontSize:"20px"}})}),Object(a.jsx)("div",{className:"p-2 rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-200  dark:text-white dark:hover:bg-indigo-1100",onClick:function(){return L(!0)},children:Object(a.jsx)(i.a,{style:{fontSize:"20px"}})})]}),Object(a.jsxs)("div",{className:"flex  flex-col w-full h-screen fixed top-0 right-0 transition-transform  transform ".concat(A?"translate-x-0":"translate-x-full"," bg-white dark:bg-indigo-1000 laptop:hidden"),children:[Object(a.jsxs)("div",{className:"flex items-center justify-between px-4",children:[Object(a.jsxs)("div",{className:"flex items-center space-x-4",children:[Object(a.jsx)("h1",{className:"dark:text-white",children:"Menu"}),Object(a.jsx)(f.k,{})]}),Object(a.jsx)("div",{className:"p-2 rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-200 dark:text-white dark:hover:bg-indigo-1100",onClick:function(){return L(!1)},children:Object(a.jsx)(o.a,{style:{fontSize:"20px"}})})]}),v?Object(a.jsxs)("ul",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:[Object(a.jsx)("li",{className:"px-4 py-3 pb-4 cursor-pointer hover:bg-indigo-100 dark:hover:bg-indigo-1100",children:Object(a.jsxs)(h.a,{className:"flex font-medium dark:text-indigo-400",onClick:M,to:"/user/".concat(y.username),children:[Object(a.jsx)(f.a,{url:null===(t=y.profilePicture)||void 0===t?void 0:t.url,size:"lg",className:"mr-2"}),Object(a.jsxs)("div",{className:"flex flex-col",children:[Object(a.jsx)("span",{children:y.username}),Object(a.jsx)("span",{className:"text-gray-400 text-xs",children:"View Profile"})]})]})}),Object(a.jsx)("li",{className:"p-4 cursor-pointer hover:bg-indigo-100 dark:hover:bg-indigo-1100",children:Object(a.jsxs)(h.a,{className:"flex items-center text-black dark:text-white",onClick:M,to:"/user/".concat(y.username,"/following"),children:[Object(a.jsx)(l.a,{className:"text-indigo-700 dark:text-indigo-400",style:{fontSize:"30px",marginRight:"25px"}}),Object(a.jsx)("h6",{className:"text-sm",children:"Following"})]})}),Object(a.jsx)("li",{className:"p-4 cursor-pointer hover:bg-indigo-100 dark:hover:bg-indigo-1100",children:Object(a.jsxs)(h.a,{className:"flex items-center text-black dark:text-white",onClick:M,to:"/user/".concat(y.username,"/followers"),children:[Object(a.jsx)(l.a,{className:"text-indigo-700 dark:text-indigo-400",style:{fontSize:"30px",marginRight:"25px"}}),Object(a.jsx)("h6",{className:"text-sm",children:"Followers"})]})}),Object(a.jsx)("li",{className:"p-4 cursor-pointer hover:bg-indigo-100 dark:hover:bg-indigo-1100",children:Object(a.jsxs)(h.a,{className:"flex items-center text-black dark:text-white",onClick:M,to:"/user/".concat(y.username,"/bookmarks"),children:[Object(a.jsx)(d.a,{className:"text-indigo-700 dark:text-indigo-400",style:{fontSize:"30px",marginRight:"25px"}}),Object(a.jsx)("h6",{className:"text-sm",children:"Bookmarks"})]})}),Object(a.jsx)("li",{className:"p-4 cursor-pointer hover:bg-indigo-100 dark:hover:bg-indigo-1100",children:Object(a.jsxs)(h.a,{className:"flex items-center text-black dark:text-white",onClick:M,to:O.n,children:[Object(a.jsx)(u.a,{className:"text-indigo-700 dark:text-indigo-400",style:{fontSize:"30px",marginRight:"25px"}}),Object(a.jsx)("h6",{className:"text-sm",children:"Suggested People"})]})}),Object(a.jsx)("li",{className:"p-4 cursor-pointer hover:bg-indigo-100 dark:hover:bg-indigo-1100",children:Object(a.jsxs)("div",{className:"flex items-center text-black dark:text-white",onClick:function(){w(),L(!1)},children:[Object(a.jsx)(j.a,{className:"text-red-500",style:{fontSize:"30px",marginRight:"25px"}}),Object(a.jsx)("h6",{className:"text-sm text-red-500",children:"Logout"})]})})]}):Object(a.jsxs)("ul",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:[Object(a.jsxs)("li",{className:"px-4 cursor-pointer hover:bg-indigo-100 dark:hover:bg-indigo-1100 flex items-center justify-start",children:[Object(a.jsx)(b.a,{className:"dark:text-white"}),Object(a.jsx)(h.a,{className:"p-4 font-medium dark:text-indigo-400 flex-grow",to:O.c,children:"Login"})]}),Object(a.jsxs)("li",{className:"px-4 cursor-pointer hover:bg-indigo-100 dark:hover:bg-indigo-1100 flex items-center justify-start",children:[Object(a.jsx)(b.a,{className:"dark:text-white"}),Object(a.jsx)(h.a,{className:"p-4 font-medium dark:text-indigo-400 flex-grow",to:O.k,children:"Register"})]})]}),Object(a.jsxs)("span",{className:"text-gray-400 text-xs absolute bottom-8 left-0 right-0 mx-auto text-center",children:["\xa9Copyright ",(new Date).getFullYear()," Foodie"]})]})]})}}},[[213,1,2]]]);
//# sourceMappingURL=main.3637cad1.chunk.js.map